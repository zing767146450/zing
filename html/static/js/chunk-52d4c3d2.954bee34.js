(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-52d4c3d2","chunk-73942823","chunk-02ef53d8","chunk-4258e2b1","chunk-7a759991","chunk-b4e42652"],{"079b":function(t,e,n){"use strict";n.r(e);var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("el-dialog",{staticClass:"JNPF-dialog JNPF-dialog_center",attrs:{title:"查看消息","close-on-click-modal":!1,visible:t.visible,"lock-scroll":"",width:"80%"},on:{"update:visible":function(e){t.visible=e}}},[n("div",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticClass:"notice-wapper"},[n("h1",{staticClass:"title"},[t._v(t._s(t.info.title))]),n("div",{staticClass:"info"},[n("span",[t._v(t._s(t._f("toDate")(t.info.lastModifyTime)))]),n("span",[t._v(t._s(t.info.creatorUser))])]),n("div",{staticClass:"main",domProps:{innerHTML:t._s(t.info.bodyText)}})]),n("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[n("el-button",{on:{click:function(e){t.visible=!1}}},[t._v(t._s(t.$t("common.cancelButton")))])],1)])},i=[],o=n("0503"),s={data:function(){return{visible:!1,loading:!1,info:{}}},methods:{init:function(t){var e=this;this.visible=!0,this.loading=!0,Object(o["c"])(t).then((function(t){e.info=t.data,e.loading=!1}))}}},r=s,l=(n("6695"),n("2877")),c=Object(l["a"])(r,a,i,!1,null,"5ec52a5f",null);e["default"]=c.exports},1099:function(t,e,n){"use strict";n.r(e);var a=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticClass:"dashboard-container",attrs:{"element-loading-text":t.$t("common.loadingText")}},[t.ajaxing?t._e():[t.portalId?a("PortalLayout",{attrs:{layout:t.layout}}):a("div",{staticClass:"portal-layout-nodata"},[a("img",{staticClass:"layout-nodata-img",attrs:{src:n("c13c"),alt:""}}),a("p",{staticClass:"layout-nodata-txt"},[t._v("暂无数据")])])],a("Setting",{ref:"Setting",on:{refresh:t.refresh}}),a("el-button",{staticClass:"setting-btn",attrs:{type:"primary",icon:"el-icon-arrow-left",size:"large"},on:{click:function(e){return t.$refs.Setting.init(t.portalId)}}})],2)},i=[],o=n("5530"),s=n("1641"),r=n("f66b"),l=n("c797"),c=n("2f62"),u={name:"dashboard",components:{Setting:r["default"],PortalLayout:l["a"]},data:function(){return{portalId:"",layout:[],ajaxing:!0,loading:!1}},computed:Object(o["a"])({},Object(c["b"])(["userInfo"])),created:function(){this.portalId=this.userInfo.portalId,this.getData()},methods:{getData:function(){var t=this;if(this.loading=!0,this.layout=[],!this.portalId)return this.loading=!1,void(this.ajaxing=!1);Object(s["g"])(this.portalId).then((function(e){if(e.data&&e.data.formData){var n=JSON.parse(e.data.formData);t.layout=n.layout||[]}t.ajaxing=!1,setTimeout((function(){t.loading=!1}),500)})).catch((function(){t.loading=!1,t.ajaxing=!1}))},refresh:function(t){t&&(this.portalId=t,this.getData())}}},d=u,f=(n("f3ce"),n("2877")),m=Object(f["a"])(d,a,i,!1,null,"25797ef6",null);e["default"]=m.exports},1641:function(t,e,n){"use strict";n.d(e,"i",(function(){return i})),n.d(e,"h",(function(){return o})),n.d(e,"c",(function(){return s})),n.d(e,"e",(function(){return r})),n.d(e,"b",(function(){return l})),n.d(e,"a",(function(){return c})),n.d(e,"f",(function(){return u})),n.d(e,"j",(function(){return d})),n.d(e,"d",(function(){return f})),n.d(e,"g",(function(){return m}));var a=n("b775");function i(t){return Object(a["a"])({url:"/api/visualdev/Portal",method:"get",data:t})}function o(t){return Object(a["a"])({url:"/api/visualdev/Portal/".concat(t),method:"get"})}function s(t){return Object(a["a"])({url:"/api/visualdev/Portal/".concat(t),method:"DELETE"})}function r(t){return Object(a["a"])({url:"/api/visualdev/Portal/".concat(t.id),method:"PUT",data:t})}function l(t){return Object(a["a"])({url:"/api/visualdev/Portal",method:"post",data:t})}function c(t){return Object(a["a"])({url:"/api/visualdev/Portal/".concat(t,"/Actions/Copy"),method:"POST"})}function u(t){return Object(a["a"])({url:"/api/visualdev/Portal/".concat(t,"/Actions/ExportData"),method:"POST"})}function d(t){return Object(a["a"])({url:"/api/visualdev/Portal/Selector",method:"GET",data:{type:t}})}function f(t){return Object(a["a"])({url:"/api/visualdev/Portal/".concat(t,"/Actions/SetDefault"),method:"PUT"})}function m(t){return Object(a["a"])({url:"/api/visualdev/Portal/".concat(t,"/auth"),method:"GET"})}},"1e0e":function(t,e,n){},"20f7":function(t,e,n){"use strict";n.r(e);var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.searchList.length?n("el-row",{staticClass:"JNPF-common-search-box",attrs:{gutter:16}},[n("el-form",{nativeOn:{submit:function(t){t.preventDefault()}}},[t._l(t.searchList,(function(e,a){return n("el-col",{key:a,attrs:{span:6}},[n("el-form-item",{directives:[{name:"show",rawName:"v-show",value:a<3||a>=3&&t.showAll,expression:"index<3 || (index>=3 && showAll)"}],attrs:{label:e.__config__.label}},[t.useInputList.indexOf(e.__config__.jnpfKey)>-1?[n("el-input",{staticClass:"item",attrs:{placeholder:e.__config__.label,clearable:""},model:{value:e.value,callback:function(n){t.$set(e,"value",n)},expression:"item.value"}})]:t.useDateList.indexOf(e.__config__.jnpfKey)>-1?[n("el-date-picker",{staticClass:"item",attrs:{"value-format":"timestamp",format:"yyyy-MM-dd","start-placeholder":"开始日期","end-placeholder":"结束日期",type:"daterange"},model:{value:e.value,callback:function(n){t.$set(e,"value",n)},expression:"item.value"}})]:t.useSelectList.indexOf(e.__config__.jnpfKey)>-1?[n("el-select",{staticClass:"item",attrs:{placeholder:"请选择"+e.__config__.label,clearable:"",filterable:""},model:{value:e.value,callback:function(n){t.$set(e,"value",n)},expression:"item.value"}},t._l(e.__slot__.options,(function(t,a){return n("el-option",{key:a,attrs:{label:t[e.__config__.props.label],value:t[e.__config__.props.value]}})})),1)]:["numInput"===e.__config__.jnpfKey||"calculate"===e.__config__.jnpfKey?[n("num-range",{model:{value:e.value,callback:function(n){t.$set(e,"value",n)},expression:"item.value"}})]:t._e(),"cascader"===e.__config__.jnpfKey?[n("el-cascader",{staticClass:"item",attrs:{options:e.options,clearable:"","show-all-levels":e["show-all-levels"],props:e.props.props,filterable:"",placeholder:"请选择"+e.__config__.label},model:{value:e.value,callback:function(n){t.$set(e,"value",n)},expression:"item.value"}})]:t._e(),"time"===e.__config__.jnpfKey||"timeRange"===e.__config__.jnpfKey?[n("el-time-picker",{staticClass:"item",attrs:{"start-placeholder":"开始时间","end-placeholder":"结束时间",clearable:"","value-format":e["value-format"],format:e.format,"is-range":""},model:{value:e.value,callback:function(n){t.$set(e,"value",n)},expression:"item.value"}})]:t._e(),"date"===e.__config__.jnpfKey?[n("el-date-picker",{staticClass:"item",attrs:{type:e.type+"range","value-format":e["value-format"],format:e.format,"start-placeholder":"开始日期","end-placeholder":"结束日期"},model:{value:e.value,callback:function(n){t.$set(e,"value",n)},expression:"item.value"}})]:t._e(),"dateRange"===e.__config__.jnpfKey?[n("el-date-picker",{staticClass:"item",attrs:{type:e.type,"value-format":e["value-format"],format:e.format,"start-placeholder":"开始日期","end-placeholder":"结束日期"},model:{value:e.value,callback:function(n){t.$set(e,"value",n)},expression:"item.value"}})]:t._e(),t.commonList.includes(e.__config__.jnpfKey)?[n(e.__config__.tag,{tag:"component",staticClass:"item",attrs:{placeholder:"请选择"+e.__config__.label},model:{value:e.value,callback:function(n){t.$set(e,"value",n)},expression:"item.value"}})]:t._e(),"address"===e.__config__.jnpfKey?[n("JNPFAddress",{staticClass:"item",attrs:{placeholder:"请选择"+e.__config__.label,level:e.level,clearable:""},model:{value:e.value,callback:function(n){t.$set(e,"value",n)},expression:"item.value"}})]:t._e(),"treeSelect"===e.__config__.jnpfKey?[n("JNPF-TreeSelect",{staticClass:"item",attrs:{placeholder:"请选择"+e.__config__.label,options:e.options,multiple:e.multiple,clearable:""},model:{value:e.value,callback:function(n){t.$set(e,"value",n)},expression:"item.value"}})]:t._e(),"createUser"===e.__config__.jnpfKey||"modifyUser"===e.__config__.jnpfKey?[n("userSelect",{staticClass:"item",attrs:{placeholder:"请选择"+e.__config__.label},model:{value:e.value,callback:function(n){t.$set(e,"value",n)},expression:"item.value"}})]:t._e(),"currOrganize"===e.__config__.jnpfKey?[n("comSelect",{staticClass:"item",attrs:{placeholder:"请选择"+e.__config__.label},model:{value:e.value,callback:function(n){t.$set(e,"value",n)},expression:"item.value"}})]:t._e(),"currDept"===e.__config__.jnpfKey?[n("depSelect",{staticClass:"item",attrs:{placeholder:"请选择"+e.__config__.label},model:{value:e.value,callback:function(n){t.$set(e,"value",n)},expression:"item.value"}})]:t._e(),"currPosition"===e.__config__.jnpfKey?[n("posSelect",{staticClass:"item",attrs:{placeholder:"请选择"+e.__config__.label},model:{value:e.value,callback:function(n){t.$set(e,"value",n)},expression:"item.value"}})]:t._e()]],2)],1)})),n("el-col",{attrs:{span:6}},[n("el-form-item",[n("el-button",{attrs:{type:"primary",icon:"el-icon-search"},on:{click:function(e){return t.search()}}},[t._v(t._s(t.$t("common.search"))+"\n        ")]),n("el-button",{attrs:{icon:"el-icon-refresh-right"},on:{click:function(e){return t.reset()}}},[t._v(t._s(t.$t("common.reset"))+"\n        ")]),t.searchList.length>3?[t.showAll?n("el-button",{attrs:{type:"text",icon:"el-icon-arrow-up"},on:{click:function(e){t.showAll=!1}}},[t._v("\n            收起")]):n("el-button",{attrs:{type:"text",icon:"el-icon-arrow-down"},on:{click:function(e){t.showAll=!0}}},[t._v("\n            展开\n          ")])]:t._e()],2)],1)],2)],1):t._e()},i=[],o=(n("ac6a"),n("ed08")),s=n("100e"),r=n("9b6f"),l=n("17de"),c={props:["list"],data:function(){return{showAll:!1,searchList:[],commonList:["comSelect","depSelect","posSelect","userSelect","dicSelect"],useInputList:s["g"],useDateList:s["f"],useSelectList:s["h"]}},watch:{list:{handler:function(t){this.searchList=Object(o["b"])(t),this.buildOptions(this.searchList)},deep:!0,immediate:!0}},methods:{buildOptions:function(t){t.forEach((function(t){var e=t.__config__;if(s["a"].indexOf(e.jnpfKey)>-1){var n="treeSelect"===e.jnpfKey||"cascader"===e.jnpfKey;if("dictionary"===e.dataType){if(!e.dictionaryType)return;Object(r["i"])(e.dictionaryType).then((function(e){n?t.options=e.data.list:t.__slot__.options=e.data.list}))}if("dynamic"===e.dataType){if(!e.propsUrl)return;Object(l["i"])(e.propsUrl).then((function(e){n?t.options=e.data:t.__slot__.options=e.data}))}}}))},search:function(){for(var t={},e=0;e<this.searchList.length;e++){var n=this.searchList[e];n.value&&(Array.isArray(n.value)?n.value.length&&(t[n.__vModel__]=n.value):t[n.__vModel__]=n.value)}var a="{}"===JSON.stringify(t)?"":JSON.stringify(t);this.$emit("search",a)},reset:function(){this.searchList=Object(o["b"])(this.list),this.$emit("search","")},treeReset:function(){this.searchList=Object(o["b"])(this.list)}}},u=c,d=n("2877"),f=Object(d["a"])(u,a,i,!1,null,null,null);e["default"]=f.exports},2192:function(t,e,n){"use strict";n("cded")},"226a":function(t,e,n){"use strict";n.r(e);var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("transition",{attrs:{name:"el-zoom-in-center"}},[n("div",{staticClass:"JNPF-preview-main flow-form-main nohead"},[n("div",{staticClass:"btns"},["-1"==t.setting.opType?[n("el-button",{attrs:{type:"primary"},on:{click:function(e){return t.eventLancher("submit")}}},[t._v("\n          "+t._s(t.properties.submitBtnText||"提交审核"))]),n("el-button",{attrs:{type:"warning",loading:t.btnLoading},on:{click:function(e){return t.eventLancher("save")}}},[t._v("\n          "+t._s(t.properties.saveBtnText||"保存草稿"))])]:t._e(),1==t.setting.opType?[t.properties.hasTransferBtn?n("el-button",{attrs:{type:"warning"},on:{click:function(e){return t.openUserBox("transfer")}}},[t._v(t._s(t.properties.transferBtnText||"转 办"))]):t._e(),t.properties.hasAuditBtn?n("el-button",{attrs:{type:"primary"},on:{click:function(e){return t.eventLancher("audit")}}},[t._v("\n          "+t._s(t.properties.auditBtnText||"通 过"))]):t._e(),t.properties.hasRejectBtn?n("el-button",{attrs:{type:"danger"},on:{click:function(e){return t.eventLancher("reject")}}},[t._v("\n          "+t._s(t.properties.rejectBtnText||"拒 绝"))]):t._e()]:t._e(),0==t.setting.opType&&1==t.setting.status?[t.properties.hasPressBtn||void 0===t.properties.hasPressBtn?n("el-button",{attrs:{type:"primary"},on:{click:function(e){return t.press()}}},[t._v("\n          "+t._s(t.properties.pressBtnText||"催 办"))]):t._e(),t.properties.hasRevokeBtn||void 0===t.properties.hasRevokeBtn?n("el-button",{attrs:{type:"danger"},on:{click:function(e){return t.revoke()}}},[t._v("\n          "+t._s(t.properties.revokeBtnText||"撤 回"))]):t._e()]:t._e(),2==t.setting.opType&&t.properties.hasRevokeBtn?n("el-button",{attrs:{type:"danger"},on:{click:function(e){return t.recall()}}},[t._v(t._s(t.properties.revokeBtnText||"撤 回"))]):t._e(),4==t.setting.opType?[1==t.setting.status?n("el-button",{attrs:{type:"primary"},on:{click:t.openAssignBox}},[t._v("指 派\n        ")]):t._e(),2!=t.setting.status&&5!=t.setting.status?n("el-button",{attrs:{type:"danger"},on:{click:function(e){return t.cancel()}}},[t._v("终 止")]):t._e()]:t._e(),n("el-button",{on:{click:function(e){return t.goBack()}}},[t._v(t._s(t.$t("common.cancelButton")))])],2),0!=t.setting.opType&&4!=t.setting.opType||"0"!==t.activeTab?t._e():n("div",{staticClass:"approve-result"},[n("div",{staticClass:"approve-result-img",class:t._f("flowStatus")(t.flowTaskInfo.status)})]),n("el-tabs",{staticClass:"JNPF-el_tabs",model:{value:t.activeTab,callback:function(e){t.activeTab=e},expression:"activeTab"}},[n("el-tab-pane",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],attrs:{label:"表单信息"}},[n(t.currentView,{ref:"form",tag:"component",on:{close:t.goBack,eventReciver:t.eventReciver,setLoad:t.setLoad,setPageLoad:t.setPageLoad}})],1),n("el-tab-pane",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],attrs:{label:"流程信息"}},[t.flowTemplateJson.nodeId?n("Process",{attrs:{conf:t.flowTemplateJson}}):t._e()],1),"-1"!=t.setting.opType?n("el-tab-pane",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],attrs:{label:"流转记录"}},[n("recordList",{attrs:{list:t.flowTaskOperatorRecordList,endTime:t.endTime}})],1):t._e()],1),n("el-dialog",{staticClass:"JNPF-dialog JNPF-dialog_center",attrs:{title:"audit"===t.eventType?"审批通过":"审批拒绝","close-on-click-modal":!1,visible:t.visible,"lock-scroll":"","append-to-body":"",width:"600px"},on:{"update:visible":function(e){t.visible=e}}},[n("el-form",{attrs:{"label-width":"80px"}},["audit"===t.eventType&&t.properties.hasFreeApprover?n("el-form-item",{attrs:{label:"加签人员"}},[n("user-select",{attrs:{placeholder:"请选择加签人员,不选即该节点审核结束"},model:{value:t.handleId,callback:function(e){t.handleId=e},expression:"handleId"}})],1):t._e(),n("el-form-item",{attrs:{label:"审批意见"}},[n("el-input",{attrs:{placeholder:"请输入审批意见（选填）",type:"textarea",rows:4},model:{value:t.reason,callback:function(e){t.reason=e},expression:"reason"}})],1),t.properties.hasSign?n("el-form-item",[n("div",{staticClass:"sign-main"},[n("div",{staticClass:"sign-head"},[n("div",{staticClass:"sign-tip"},[t._v("请在这里输入你的签名")]),n("div",{staticClass:"sign-action"},[n("el-button",{staticClass:"clear-btn",attrs:{size:"mini"},on:{click:t.handleReset}},[t._v("清空")]),n("el-button",{staticClass:"sure-btn",attrs:{size:"mini",disabled:!!t.signImg},on:{click:t.handleGenerate}},[t._v("确定签名")])],1)]),n("div",{staticClass:"sign-box"},[t.signImg?t._e():n("vue-esign",{ref:"esign",attrs:{height:330,lineWidth:5}}),t.signImg?n("img",{staticClass:"sign-img",attrs:{src:t.signImg,alt:""}}):t._e()],1)])]):t._e(),t.properties.isCustomCopy?n("el-form-item",{attrs:{label:"抄送人员"}},[n("user-select",{attrs:{placeholder:"请选择",multiple:""},model:{value:t.copyIds,callback:function(e){t.copyIds=e},expression:"copyIds"}})],1):t._e()],1),n("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[n("el-button",{on:{click:function(e){t.visible=!1}}},[t._v(t._s(t.$t("common.cancelButton")))]),n("el-button",{attrs:{type:"primary",loading:t.approvalBtnLoading},on:{click:function(e){return t.handleApproval()}}},[t._v("\n          "+t._s(t.$t("common.confirmButton"))+"\n        ")])],1)],1),n("el-dialog",{staticClass:"JNPF-dialog JNPF-dialog_center",attrs:{title:"指派","close-on-click-modal":!1,visible:t.assignVisible,"lock-scroll":"","append-to-body":"",width:"600px"},on:{"update:visible":function(e){t.assignVisible=e}}},[n("el-form",{ref:"assignForm",attrs:{"label-width":"80px",model:t.assignForm,rules:t.assignRules}},[n("el-form-item",{attrs:{label:"指派节点",prop:"nodeCode"}},[n("el-select",{attrs:{placeholder:"请选择指派节点"},model:{value:t.assignForm.nodeCode,callback:function(e){t.$set(t.assignForm,"nodeCode",e)},expression:"assignForm.nodeCode"}},t._l(t.assignNodeList,(function(t){return n("el-option",{key:t.nodeCode,attrs:{label:t.nodeName,value:t.nodeCode}})})),1)],1),n("el-form-item",{attrs:{label:"指派人",prop:"freeApproverUserId"}},[n("user-select",{attrs:{placeholder:"请选择指派人"},model:{value:t.assignForm.freeApproverUserId,callback:function(e){t.$set(t.assignForm,"freeApproverUserId",e)},expression:"assignForm.freeApproverUserId"}})],1)],1),n("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[n("el-button",{on:{click:function(e){t.assignVisible=!1}}},[t._v(t._s(t.$t("common.cancelButton")))]),n("el-button",{attrs:{type:"primary"},on:{click:function(e){return t.handleAssign()}}},[t._v(t._s(t.$t("common.confirmButton"))+"\n        ")])],1)],1),t.userBoxVisible?n("UserBox",{ref:"userBox",attrs:{title:t.userBoxTitle},on:{submit:t.handleTransfer}}):t._e()],1)])},i=[],o=n("5530"),s=(n("ac6a"),n("5451")),r=n("e200"),l=n("7361"),c=n("826a"),u=n("ce76"),d=n("94ab"),f=n("afcb"),m=n.n(f),p={components:{recordList:u["default"],Process:d["a"],vueEsign:m.a},data:function(){return{userBoxVisible:!1,userBoxTitle:"审批人",assignVisible:!1,assignForm:{nodeCode:"",freeApproverUserId:""},assignRules:{nodeCode:[{required:!0,message:"请选择指派节点",trigger:"change"}],freeApproverUserId:[{required:!0,message:"请选择指派人",trigger:"change"}]},assignNodeList:[],currentView:"",formData:{},setting:{},flowFormInfo:{},flowTaskInfo:{},flowTaskNodeList:[],flowTemplateJson:{},flowTaskOperatorRecordList:[],properties:{},endTime:0,visible:!1,reason:"",handleId:"",activeTab:"0",loading:!1,btnLoading:!1,approvalBtnLoading:!1,eventType:"",signImg:"",copyIds:""}},methods:{goBack:function(t){this.$emit("close",t)},init:function(t){this.loading=!0,this.activeTab="0",this.setting=t,"-1"==this.setting.opType?this.getEngineInfo(t):this.getBeforeInfo(t)},getEngineInfo:function(t){var e=this;Object(s["e"])(t.flowId).then((function(a){t.type=a.data.type,1==t.formType?a.data.formUrl?e.currentView=function(t){return Promise.all([n.e("chunk-commons"),n.e("chunk-2d0e1db4"),n.e("chunk-184ba2a4"),n.e("chunk-02594d6c"),n.e("chunk-e3c23184")]).then(function(){var e=[n("4b3b")("./".concat(a.data.formUrl))];t.apply(null,e)}.bind(this)).catch(n.oe)}:e.currentView=function(e){return n.e("chunk-52af6cba").then(function(){var a=[n("e495")("./".concat(t.enCode))];e.apply(null,a)}.bind(this)).catch(n.oe)}:e.currentView=function(t){return n.e("chunk-2d0da394").then(function(){var e=[n("6b4f")];t.apply(null,e)}.bind(this)).catch(n.oe)},t.formConf=a.data.formData,e.flowTemplateJson=a.data.flowTemplateJson?JSON.parse(a.data.flowTemplateJson):null,e.flowTemplateJson.state="state-curr",t.formOperates=[],e.properties=e.flowTemplateJson&&e.flowTemplateJson.properties||{},e.flowTemplateJson&&e.flowTemplateJson.properties&&e.flowTemplateJson.properties.formOperates&&(t.formOperates=e.flowTemplateJson.properties.formOperates||[]),setTimeout((function(){e.$nextTick((function(){e.$refs.form&&e.$refs.form.init(t)}))}),500)})).catch((function(){e.loading=!1}))},getBeforeInfo:function(t){var e=this;Object(r["d"])(t.id,{taskNodeId:t.taskNodeId}).then((function(a){if(e.flowFormInfo=a.data.flowFormInfo,e.flowTaskInfo=a.data.flowTaskInfo,t.type=e.flowTaskInfo.type,1==t.formType?e.flowTaskInfo.formUrl?e.currentView=function(t){return Promise.all([n.e("chunk-commons"),n.e("chunk-2d0e1db4"),n.e("chunk-184ba2a4"),n.e("chunk-02594d6c"),n.e("chunk-e3c23184")]).then(function(){var a=[n("4b3b")("./".concat(e.flowTaskInfo.formUrl))];t.apply(null,a)}.bind(this)).catch(n.oe)}:e.currentView=function(e){return n.e("chunk-52af6cba").then(function(){var a=[n("e495")("./".concat(t.enCode))];e.apply(null,a)}.bind(this)).catch(n.oe)}:e.currentView=function(t){return n.e("chunk-2d0da394").then(function(){var e=[n("6b4f")];t.apply(null,e)}.bind(this)).catch(n.oe)},e.flowTaskNodeList=a.data.flowTaskNodeList,e.flowTemplateJson=e.flowTaskInfo.flowTemplateJson?JSON.parse(e.flowTaskInfo.flowTemplateJson):null,e.flowTaskOperatorRecordList=a.data.flowTaskOperatorRecordList,e.properties=a.data.approversProperties||{},e.endTime=100==e.flowTaskInfo.completion?e.flowTaskInfo.endTime:0,t.formConf=a.data.flowFormInfo,1!=t.opType&&(t.readonly=!0),t.formOperates=[],0==t.opType?(e.properties=e.flowTemplateJson&&e.flowTemplateJson.properties||{},e.flowTemplateJson&&e.flowTemplateJson.properties&&e.flowTemplateJson.properties.formOperates&&(t.formOperates=e.flowTemplateJson.properties.formOperates||[])):t.formOperates=a.data.formOperates||[],e.flowTaskNodeList.length){for(var i=[],o=function(n){var a=e.flowTaskNodeList[n];4==t.opType&&1==a.type&&i.push(a);var o=function t(e){if(Array.isArray(e)&&e.forEach((function(e){return t(e)})),e.nodeId===a.nodeCode)return 0==a.type&&(e.state="state-past"),1==a.type&&(e.state="state-curr"),void("approver"!==a.nodeType&&"start"!==a.nodeType&&"subFlow"!==a.nodeType||(e.content=a.userName));e.conditionNodes&&Array.isArray(e.conditionNodes)&&t(e.conditionNodes),e.childNode&&t(e.childNode)};o(e.flowTemplateJson)},s=0;s<e.flowTaskNodeList.length;s++)o(s);e.assignNodeList=i}setTimeout((function(){e.$nextTick((function(){e.$refs.form&&e.$refs.form.init(t)}))}),500)})).catch((function(){e.loading=!1}))},eventLancher:function(t){this.$refs.form&&this.$refs.form.dataFormSubmit(t)},eventReciver:function(t,e){if(this.formData=t,this.eventType=e,"save"===e||"submit"===e)return this.submitOrSave();"audit"!==e&&"reject"!==e||(this.handleId="",this.reason="",this.copyIds="",this.handleReset(),this.visible=!0)},submitOrSave:function(){var t=this;if(this.formData.status="submit"===this.eventType?0:1,"save"===this.eventType)return this.handleRequest();this.$confirm("您确定要提交当前流程吗, 是否继续?","提示",{type:"warning"}).then((function(){t.handleRequest()})).catch((function(){}))},handleRequest:function(){var t=this;this.formData.id||delete this.formData.id,"save"===this.eventType&&(this.btnLoading=!0);var e=null;e=1==this.setting.formType?this.formData.id?c["f"]:c["a"]:this.formData.id?c["d"]:c["b"],e(this.setting.enCode,this.formData).then((function(e){t.$message({message:e.msg,type:"success",duration:1500,onClose:function(){"save"===t.eventType&&(t.btnLoading=!1),t.$emit("close",!0)}})})).catch((function(){"save"===t.eventType&&(t.btnLoading=!1)}))},revoke:function(){var t=this;this.$prompt("","撤回流程",{confirmButtonText:"确定",cancelButtonText:"取消",inputPlaceholder:"请输入撤回原因（选填）",inputType:"textarea",inputValue:"",closeOnClickModal:!1}).then((function(e){var n=e.value;Object(l["d"])(t.setting.id,{handleOpinion:n}).then((function(e){t.$message({type:"success",message:e.msg,duration:1e3,onClose:function(){t.$emit("close",!0)}})}))})).catch((function(){}))},press:function(){var t=this;this.$confirm("此操作将提示该节点尽快处理，是否继续?","提示",{type:"warning"}).then((function(){Object(l["c"])(t.setting.id).then((function(e){t.$message({type:"success",message:e.msg,duration:1e3})}))})).catch((function(){}))},recall:function(){var t=this;this.$prompt("","撤回审核",{confirmButtonText:"确定",cancelButtonText:"取消",inputPlaceholder:"请输入撤回原因（选填）",inputType:"textarea",inputValue:"",closeOnClickModal:!1}).then((function(e){var n=e.value;Object(r["f"])(t.setting.taskId,{handleOpinion:n}).then((function(e){t.$message({type:"success",message:e.msg,duration:1e3,onClose:function(){t.$emit("close",!0)}})}))})).catch((function(){}))},cancel:function(){var t=this;this.$prompt("","终止审核不可恢复",{confirmButtonText:"确定",cancelButtonText:"取消",inputPlaceholder:"请输入终止原因（选填）",inputType:"textarea",inputValue:"",closeOnClickModal:!1}).then((function(e){var n=e.value;Object(r["c"])(t.setting.taskId,{handleOpinion:n}).then((function(e){t.$message({type:"success",message:e.msg,duration:1e3,onClose:function(){t.$emit("close",!0)}})}))})).catch((function(){}))},openUserBox:function(t){var e=this;this.userBoxVisible=!0,this.$nextTick((function(){e.$refs.userBox.init()}))},handleTransfer:function(t){var e=this;Object(r["h"])(this.setting.taskId,{freeApproverUserId:t}).then((function(t){e.$message({type:"success",message:t.msg,duration:1e3,onClose:function(){e.$emit("close",!0)}})}))},openAssignBox:function(){var t=this;this.assignVisible=!0,this.$nextTick((function(){t.$refs["assignForm"].resetFields()}))},handleAssign:function(){var t=this;this.$refs["assignForm"].validate((function(e){e&&Object(r["a"])(t.setting.taskId,t.assignForm).then((function(e){t.$message({type:"success",message:e.msg,duration:1e3,onClose:function(){t.$emit("close",!0)}})}))}))},handleApproval:function(){var t=this;if(!this.properties.hasSign||this.signImg){var e={handleOpinion:this.reason,formData:this.formData,enCode:this.setting.enCode,signImg:this.signImg,copyIds:this.copyIds};"audit"===this.eventType&&this.properties.hasFreeApprover&&(e=Object(o["a"])({freeApproverUserId:this.handleId},e));var n="audit"===this.eventType?r["b"]:r["g"];this.approvalBtnLoading=!0,n(this.setting.taskId,e).then((function(e){t.$message({type:"success",message:e.msg,duration:1e3,onClose:function(){t.approvalBtnLoading=!1,t.visible=!1,t.$emit("close",!0)}})})).catch((function(){t.approvalBtnLoading=!1}))}else this.$message({message:"请签名",type:"error"})},handleReset:function(){var t=this;this.signImg="",this.$nextTick((function(){t.$refs.esign&&t.$refs.esign.reset()}))},handleGenerate:function(){var t=this;this.$refs.esign.generate().then((function(e){e&&(t.signImg=e)})).catch((function(e){t.$message({message:"请签名",type:"warning"})}))},setPageLoad:function(t){this.loading=!!t},setLoad:function(t){this.btnLoading=!!t}}},h=p,v=(n("ee05"),n("2877")),g=Object(v["a"])(h,a,i,!1,null,"5e4c1ff4",null);e["default"]=g.exports},2476:function(t,e,n){t.exports=n.p+"static/img/portal-nodata.3cf41816.png"},2638:function(t,e,n){"use strict";function a(){return a=Object.assign||function(t){for(var e,n=1;n<arguments.length;n++)for(var a in e=arguments[n],e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t},a.apply(this,arguments)}var i=["attrs","props","domProps"],o=["class","style","directives"],s=["on","nativeOn"],r=function(t){return t.reduce((function(t,e){for(var n in e)if(t[n])if(-1!==i.indexOf(n))t[n]=a({},t[n],e[n]);else if(-1!==o.indexOf(n)){var r=t[n]instanceof Array?t[n]:[t[n]],c=e[n]instanceof Array?e[n]:[e[n]];t[n]=r.concat(c)}else if(-1!==s.indexOf(n))for(var u in e[n])if(t[n][u]){var d=t[n][u]instanceof Array?t[n][u]:[t[n][u]],f=e[n][u]instanceof Array?e[n][u]:[e[n][u]];t[n][u]=d.concat(f)}else t[n][u]=e[n][u];else if("hook"==n)for(var m in e[n])t[n][m]=t[n][m]?l(t[n][m],e[n][m]):e[n][m];else t[n]=e[n];else t[n]=e[n];return t}),{})},l=function(t,e){return function(){t&&t.apply(this,arguments),e&&e.apply(this,arguments)}};t.exports=r},"28b2":function(t,e,n){"use strict";n("64f5")},"297a":function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAIAAAACACAYAAADDPmHLAAAL1ElEQVR4Xu2dfYwcdRnHv8/M3u1MSXhrFQzybikWr6IoNpgixdD2brdFCdfQ29l6QmzAFwL/QEhAqzUq/qEYtIlYsXb32kJRPG53W6DpUSQasIamSHmxBAQEebFAsDdzvdt5zGy72929vWO788LN7LN/zvye5/d7vt/P/nZm9jczBPm0tQLU1tVL8RAA2hwCAUAAaHMF2rx8mQEEgDZXoM3LlxlAAAhWAS2XvgaEywDuAmMOEanBjsDb3hj8fSuRXe1t1uCyBTcDDK2YpSnqAIEWBVdeMD2FGYJgANjWe6I+ru0B4ZRgLAm+l7BCEAgAWj49QEBf8LYE22MYIfAdgHgh1a2wUgjWCv96Y8AiQJush7BB4DsAes4YBNEy/ywJNjMTG2D6MQGnRgEC/wHIG3sA6grWJv96Y+aLrc7xF7SDsUeIaHbYIfAdAC2fdqbMuH+WBJu5BEAy+2dsXzlTG7UfJdDcMEPgLwAM0gtpO1iL/O2tAoDTzXD/8fpIcSeAeWGFQAA4Sl5qAHBiC6ljdVvZAcIFYYRAAHALgBP/YPoYfZy3AzQ/bBAIAF4A4OT4S6+u7Y8/SEQLwgSBAOAVAKWfg+64Zs/ME9GXwwKBAOAlAE6uXas6tDdGBgnUHQYIBACvASidHVwS00dOvQ/A5dMdAgHADwCcnLxa0fMvbAahdzpDIAD4BUAJApCWNzJElJquEAgAfgJQgSC9jghXT0cIBAC/ATicX8sZa4nouukGgQAQEABON1o+tYag3DqdIBAAAgTA6SqeS9+gEH4+XSAQAAIG4BAExnUK0drpAIEA8CEAUPo5yKWuBtE6AjX0IKiVRQLAhwRACYKCkQIj82FCIAAcJQBgLDeTmS1HGzZZez2X7mVgMxGURm3MRMZXj3xN7lwIidqCEDD/0kxmv+MVAE6ezvzKyxXY9xEoVp9XAPBSaQ9yMTDGCneNdmef8yBdJYWzeppYGSSgozqvAOClyh7lYmYTRHfYjF0Kiu8AMZXJjoHh3OamMrOqkuJ8m1VWuLSttI8oxofbONsUcKkNwCqzojq3zBHwJQHAI6OikEZmgCi46KIGAcCFeFEIFQCi4KKLGgQAF+JFIVQAiIKLLmoQAFyIF4VQASAKLrqoQQBwIV4UQgWAKLjoogYBwIV4UQgVAKLgoosaBAAX4kUhVACIgosuahAAXIgXhVABIAouuqhBAHAhXhRCBYAouOiiBgHAhXhRCBUAouCiixoEABfiRSFUAIiCiy5qEABciBeFUAEgCi66qEEAcCFeFEIFgCi46KIGAcCFeFEIFQCi4KKLGgQAF+JFIVQAiIKLLmoQAFyIF4VQASAKLrqoQQBwIV4UQgWAKLjoogYBwIV4UQgVAKLgoosaBAAX4kUhVACIgosuahAAXIgXhVABIAouuqhBAHAhXhRC2wIAZh4AYV+1YcR0IghTP5OX+QEmPFkbh3kg+uok5r/FjD+xYt9PzHutno0vl9o9sOKjeodyJmyljwmrGr3tnBlPg/B2JS+zMtVbQr2Cry0AAOMJM5GZDwJXC6fl0zsIWDiJmPvNGE7D4syByv7hS2LagVN3E+G8mhjG34sK//Cg/moOCx8Zn9KcoZWnaMQP1uco2vYVB5cO3F+JLb0vGP/zyujJ8rQHAABstq8fTQ7cWS1EZy79KZXwVCNxbMaNo8nMHbXAGN8j0Oq69rvMGeoCLFxvNW1Wru8EnZQdAJ1fjhEAmlavquFRPC7+0AOY7U9aiY3/qjP19wRaWfeN/rd5sn4mPnfXWHl7fKhvNinK3rpHrr9l2uNzsXTTkam7HDDcr3WMFD+tKPxuoyd/a7m+s0DKvvLLHAQAnwFw0jPjMSuZqX37tjMlK7yPAK08BGY7bSUHskd+j0vvJfgrgC/UgXKHmczcWLNtuF/TD4zfw4SeMiwM3luEnRpLbNxd3VbPGYMgWuZsEwACAKAEAfgbViK7rmYWyBk/IaKbD23jp8xEdl71/snexGWDrx1NZH9d0zZvLFFAWyeUw/yGGR+dg8u2vFfep+WMBUT0qADQivmH3GzhjSH8nhmjc7A482al20LqWJ2VFwGcaIO7RxPZbRWTtl51BoqxvUSkTxgm4WazJ/PTGgC2GnOoiD1E1FnfnpnXsII3ycZcEM0loMvpUwAIFIDST0HBSmYStd/c9LeI+Uorma05K9Dyxk4CXdxoiMz4jZXMrKrfpw0Zl0DBegKd3mxp8hPQrFLV7VqaAQ5P9EDKSmQ2VtLd26vG9Y6zRpdu/Gfl2583vk6gu6cY2lum/e4ZWDo0MnHKX61o2549zebY+QojQSDnVe8fmSyXABAwAAD2m6o1G0u27G/Y9eCKk/SY+hxAx005NMadZjJz/QcOn0HxraklZCvfBnF3/avcBIAPVLBBAxczQCkbY4uZzCxv1LWeT/8BwBVNDmvInKGuxML17zbTvmNr6vNqkTYT0Vnl9gJAM8pNOKpq5SDwSBLnErGVzBqNutby6XUEXNPssBg4QMB2Zvt+q7P4MBZtfm3K2NKVPt4O0Hw5CGxWZQ8BYOAVa7zjPFx+9/sNuy90x3We9QSAmlPCZofKwEtg3gnCTqtz9I/Vp3+VHPn+kzWMv+JcL5AZoFllPTgIZIZdJFw0lsg8XtNtru8EJDe+c+QgsO90YnU3CMdPNTx2ziuAl4lxLIhOmNiWX7eJ+0d7Bh6q31e+GCQABAkA8Xetnuya6i61QvpSYl5mJrI3VG+PF1KLiGlb/UEbA8+D7TVF8DNj/P4zzpmAnjd+BdA3G5XizAhWInNm/b54Pn27AtwkAAQHwONmz9kXgVbblS7v7VW1GdpuEJ9rq8XzDy7Z9HQNHPn0rQTUAMOM960RaxaWbzlYbhvPGcsUosHJSmEUz5jwX0TO+AER3SYABACAYxp1jJ1nLt78SnV3eiF9Exi3H972pNmTuaDmr2MGaQXDmQUWVcfZsJeOJgZydbD8iIBbJhyuMF60Emd/oga80mve09uIsFgACACAIvjKg4msc3pX+eiF1MfZpuerL/U2+isYw/3HayPju6uv7jF4g5XIfq1+6Iev8d/AQIKY/8vADqjjt1ndm1+qaTu44iQtpr7a8CBwuF/TRoqVS9IfIM/HCDinFQnbZj0Ag39nJbJXTzTr0Dew5tiS2SSFzzF7Bl6t3t65deU8xeYnyit6GDzOjK+MJrP5VsTXcunfEqE0pgkzwFEk1ApGipiO/Ht5FLFtAQA7028HumpW9wDQc+mrQNjU+KCNH7IS2RownHZaLmUQKZlyjAOBbfPymtU8TRig59PO38g/Kzd1A0A8ZyQUopqfoiaGUGoSeQAcg4qkXDjWs6FmbZ8zpesHivtAmDnpQRuxYfVkBxpM8WuJ6LoqCBiMDVYMt2BJ9vWpxO8cWnGuoqi/qD+ecAOAXkh9Eaw81qzp1e2iDwDjHyCu+d0vCcA0v37qnyAg89sM3EWgGQwcA/AMIhzDjJmNFmwyY4TAwwx6DeD/gFC0mZ5SwbOZaDYBnwXwmcYzDu4B+NlWTAToJAKubSU28gC0Iko7xQgA7eR2g1oFAAGA/JTA1+StLQnzs9zw5ZYZIHyeeTpiAcBTOcOXTAAIn2eejlgA8FTO8CUTAMLnmacjFgA8lTN8yQSA8Hnm6YgFAE/lDF8yASB8nnk64nADUPpP39jfeCWupzpFMxnzO2YyW7o51a+Pv5eCDy3q2AXCBX4VEO28/Dczkb3QzxqDAOBeEHr9LCKquRm8yUpk+/ysz3cAtHzfxQR1p59FRDa3QgvM7g0trSRqVhPfAXAGouWM9UQ0YXVus4Nsx3bMuNtKZpq+97FVjQIBAA/3HqePas5z9k5pdaDtFFe6L7LT6mp4v6LHQgQDgDPooRWzNEUdqF9s6XE94U/HnDdhp6vvgfSzqOAAOFyFlkuvAuFSgLvAmENEqp8FTvfczqpogJynnuwB2w9ZyYGpnnjieTmBA+B5BZLQlQICgCv5wh8sAITfQ1cVCACu5At/sAAQfg9dVSAAuJIv/MECQPg9dFWBAOBKvvAH/x/FtnXbyr6yeAAAAABJRU5ErkJggg=="},"2c71":function(t,e,n){"use strict";n.r(e);var a=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-dialog",{staticClass:"JNPF-dialog JNPF-dialog_center",attrs:{title:"导入数据","close-on-click-modal":!1,visible:t.visible,"lock-scroll":"",width:"600px"},on:{"update:visible":function(e){t.visible=e}}},[a("el-row",[a("el-col",{staticClass:"grid-content",attrs:{span:12}},[a("p",[t._v("下载导入模板，填写数据")]),a("img",{attrs:{src:n("297a"),alt:""}}),a("p",[a("el-button",{attrs:{type:"primary",round:""},on:{click:function(e){return t.downLoad()}}},[t._v("下载导入模板")])],1)]),a("el-col",{staticClass:"grid-content",attrs:{span:12}},[a("p",[t._v("上传填写好的文件")]),a("img",{attrs:{src:n("297a"),alt:""}}),a("p",[a("el-upload",{attrs:{action:t.define.comUrl+"/api/VisualDevelopment/Model/"+t.modelId+"/Actions/Uploader",headers:{Authorization:t.$store.getters.token},"on-success":t.handleSuccess,"show-file-list":!1,accept:".xls,.xlsx","before-upload":t.beforeUpload}},[a("el-button",{attrs:{type:"primary",round:"",loading:t.btnLoading}},[t._v("上传文件")])],1)],1)])],1)],1)},i=[],o=n("ef22"),s={data:function(){return{visible:!1,btnLoading:!1,modelId:""}},methods:{init:function(t){t&&(this.visible=!0,this.modelId=t)},downLoad:function(){var t=this;Object(o["u"])(this.modelId).then((function(e){e.data.url&&(window.location.href=t.define.comUrl+e.data.url)}))},beforeUpload:function(){this.btnLoading=!0},handleSuccess:function(t,e){var n=this;this.btnLoading=!1,200==t.code?this.$message({message:"导入成功",type:"success",duration:1e3,onClose:function(){n.visible=!1,n.$emit("refreshDataList")}}):this.$message({message:"导入失败",type:"error",duration:1e3})}}},r=s,l=(n("d61d"),n("2877")),c=Object(l["a"])(r,a,i,!1,null,"1e218b39",null);e["default"]=c.exports},3191:function(t,e,n){"use strict";n.d(e,"c",(function(){return i})),n.d(e,"d",(function(){return o})),n.d(e,"a",(function(){return s})),n.d(e,"b",(function(){return r}));var a=n("b775");function i(){return Object(a["a"])({url:"/api/visualdev/Dashboard/FlowTodoCount",method:"get"})}function o(){return Object(a["a"])({url:"/api/visualdev/Dashboard/Notice",method:"get"})}function s(){return Object(a["a"])({url:"/api/visualdev/Dashboard/Email",method:"get"})}function r(){return Object(a["a"])({url:"/api/visualdev/Dashboard/FlowTodo",method:"get"})}},"3b01":function(t,e,n){},5050:function(t,e,n){"use strict";n("fd64")},"54b1":function(t,e,n){},6348:function(t,e,n){},"63c9":function(t,e,n){"use strict";n.r(e);var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n(t.currentView,{directives:[{name:"show",rawName:"v-show",value:t.showPage,expression:"showPage"}],tag:"component",attrs:{config:t.config,modelId:t.modelId,isPreview:t.isPreview}})},i=[],o=(n("a481"),n("ef22")),s=n("b4b7"),r=n("7292"),l={name:"dynamicModel",components:{Form:s["default"],List:r["default"]},data:function(){return{currentView:"",showPage:!1,isPreview:!1,modelId:"",config:{}}},created:function(){var t=this.$route.query.isPreview||!1;t?(this.modelId=this.$route.query.id,this.isPreview=!0):this.modelId=this.$route.meta.relationId,this.modelId&&this.getConfigData()},methods:{getConfigData:function(){var t=this;Object(o["n"])(this.modelId).then((function(e){200!==e.code&&(t.$store.dispatch("tagsView/delView",t.$route),t.$router.replace("/404")),e.data&&(t.config=e.data,"1"==e.data.webType?t.currentView="Form":t.currentView="List",t.showPage=!0)})).catch((function(){}))}}},c=l,u=n("2877"),d=Object(u["a"])(c,a,i,!1,null,null,null);e["default"]=d.exports},"64f5":function(t,e,n){},"656c":function(t,e,n){},6695:function(t,e,n){"use strict";n("1e0e")},"711c":function(t,e,n){"use strict";n.r(e);var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("el-dialog",{staticClass:"JNPF-dialog JNPF-dialog_center",attrs:{title:t.dataForm.id?"编辑字典":"新建字典","close-on-click-modal":!1,"close-on-press-escape":!1,visible:t.visible,"lock-scroll":"",width:"600px"},on:{"update:visible":function(e){t.visible=e}}},[n("el-form",{directives:[{name:"loading",rawName:"v-loading",value:t.formLoading,expression:"formLoading"}],ref:"dataForm",attrs:{model:t.dataForm,rules:t.dataRule,"label-width":"80px"}},[n("el-form-item",{attrs:{label:"项目上级",prop:"parentId"}},[n("JNPF-TreeSelect",{attrs:{options:t.treeData,placeholder:"选择项目上级",disabled:t.parentDisabled},model:{value:t.dataForm.parentId,callback:function(e){t.$set(t.dataForm,"parentId",e)},expression:"dataForm.parentId"}})],1),n("el-form-item",{attrs:{label:"字典名称",prop:"fullName"}},[n("el-input",{attrs:{placeholder:"输入名称"},model:{value:t.dataForm.fullName,callback:function(e){t.$set(t.dataForm,"fullName",e)},expression:"dataForm.fullName"}})],1),n("el-form-item",{attrs:{label:"字典编码",prop:"enCode"}},[n("el-input",{attrs:{placeholder:"输入编码"},model:{value:t.dataForm.enCode,callback:function(e){t.$set(t.dataForm,"enCode",e)},expression:"dataForm.enCode"}})],1),n("el-form-item",{attrs:{label:"排序",prop:"sortCode"}},[n("el-input-number",{attrs:{min:0,max:9999,"controls-position":"right"},model:{value:t.dataForm.sortCode,callback:function(e){t.$set(t.dataForm,"sortCode",e)},expression:"dataForm.sortCode"}})],1),n("el-form-item",{attrs:{label:"状态",prop:"enabledMark"}},[n("el-switch",{attrs:{"active-value":1,"inactive-value":0},model:{value:t.dataForm.enabledMark,callback:function(e){t.$set(t.dataForm,"enabledMark",e)},expression:"dataForm.enabledMark"}})],1),n("el-form-item",{attrs:{label:"字典说明",prop:"description"}},[n("el-input",{attrs:{type:"textarea",rows:6},model:{value:t.dataForm.description,callback:function(e){t.$set(t.dataForm,"description",e)},expression:"dataForm.description"}})],1)],1),n("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[n("el-button",{on:{click:function(e){t.visible=!1}}},[t._v(t._s(t.$t("common.cancelButton")))]),n("el-button",{attrs:{type:"primary",loading:t.btnLoading},on:{click:function(e){return t.dataFormSubmit()}}},[t._v("\n      "+t._s(t.$t("common.confirmButton")))])],1)],1)},i=[],o=n("9b6f"),s={data:function(){return{visible:!1,formLoading:!1,btnLoading:!1,parentDisabled:!1,dataForm:{id:"",dictionaryTypeId:"",parentId:"0",fullName:"",enCode:"",enabledMark:1,sortCode:0,description:""},treeData:[],dataRule:{parentId:[{required:!0,message:"请选择",trigger:"input"}],fullName:[{required:!0,message:"请输入名称",trigger:"blur"},{max:50,message:"字典名称最多为50个字符！",trigger:"blur"}],enCode:[{required:!0,message:"请输入编码",trigger:"blur"},{max:50,message:"字典编码最多为50个字符！",trigger:"blur"}]}}},methods:{init:function(t,e,n){var a=this;this.visible=!0,this.dataForm.id=t||"",this.dataForm.dictionaryTypeId=e,this.formLoading=!0,this.$nextTick((function(){a.$refs["dataForm"].resetFields(),a.parentDisabled=1!==n,Object(o["j"])(a.dataForm.dictionaryTypeId,n,t||0).then((function(t){a.treeData=t.data.list,a.dataForm.id?Object(o["g"])(a.dataForm.id).then((function(t){a.dataForm=t.data,a.formLoading=!1})):(a.dataForm.parentId=t.data.list[0].id,a.formLoading=!1)}))}))},dataFormSubmit:function(){var t=this;this.$refs["dataForm"].validate((function(e){if(e){t.btnLoading=!0,t.dataForm.parentId=t.dataForm.dictionaryTypeId===t.dataForm.parentId?"0":t.dataForm.parentId;var n=t.dataForm.id?o["n"]:o["a"];n(t.dataForm).then((function(e){t.$message({message:e.msg,type:"success",duration:1500,onClose:function(){t.$store.commit("base/SET_DICTIONARY_LIST",[]),t.visible=!1,t.btnLoading=!1,t.$emit("refreshDataList")}})})).catch((function(){t.btnLoading=!1}))}}))}}},r=s,l=n("2877"),c=Object(l["a"])(r,a,i,!1,null,null,null);e["default"]=c.exports},7292:function(t,e,n){"use strict";n.r(e);var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"JNPF-common-layout"},[2===t.columnData.type?n("div",{staticClass:"JNPF-common-layout-left"},[t.columnData.treeTitle?n("div",{staticClass:"JNPF-common-title"},[n("h2",[t._v(t._s(t.columnData.treeTitle))])]):t._e(),n("el-tree",{ref:"treeBox",staticClass:"JNPF-common-el-tree",attrs:{data:t.treeData,props:t.treeProps,"default-expand-all":"","highlight-current":"","expand-on-click-node":!1,"node-key":t.treeProps.value},on:{"node-click":t.handleNodeClick},scopedSlots:t._u([{key:"default",fn:function(e){var a=e.node,i=e.data;return n("span",{staticClass:"custom-tree-node"},[n("i",{class:i.icon}),n("span",{staticClass:"text"},[t._v(t._s(a.label))])])}}],null,!1,1575034392)})],1):t._e(),n("div",{staticClass:"JNPF-common-layout-center"},[n("Search",{ref:"Search",attrs:{list:t.columnData.searchList},on:{reset:t.reset,search:t.search}}),n("div",{staticClass:"JNPF-common-layout-main JNPF-flex-main"},[n("div",{staticClass:"JNPF-common-head"},[t.isPreview||!t.columnData.useBtnPermission?n("div",t._l(t.columnData.btnsList,(function(e,a){return n("el-button",{key:a,attrs:{type:0==a?"primary":"text",icon:e.icon},on:{click:function(n){return t.headBtnsHandel(e.value)}}},[t._v("\n            "+t._s(e.label))])})),1):n("div",t._l(t.columnData.btnsList,(function(e,a){return n("el-button",{directives:[{name:"has",rawName:"v-has",value:"btn_"+e.value,expression:"'btn_'+item.value"}],key:a,attrs:{type:0==a?"primary":"text",icon:e.icon},on:{click:function(n){return t.headBtnsHandel(e.value)}}},[t._v("\n            "+t._s(e.label))])})),1),n("div",{staticClass:"JNPF-common-head-right"},[n("el-tooltip",{attrs:{effect:"dark",content:t.$t("common.refresh"),placement:"top"}},[n("el-link",{attrs:{icon:"icon-ym icon-ym-Refresh JNPF-common-head-icon",underline:!1},on:{click:function(e){return t.initData()}}})],1),n("screenfull")],1)]),t.refreshTable?n("JNPF-table",{directives:[{name:"loading",rawName:"v-loading",value:t.listLoading,expression:"listLoading"}],attrs:{data:t.list,"row-key":"id","default-expand-all":"","tree-props":{children:"children",hasChildren:""},"has-c":t.hasBatchBtn},on:{"sort-change":t.sortChange,"selection-change":t.handleSelectionChange}},[t._l(t.columnList,(function(t,e){return n("el-table-column",{key:e,attrs:{prop:t.prop,label:t.label,align:t.align,width:t.width,sortable:t.sortable?"custom":t.sortable}})})),3==t.config.webType?n("el-table-column",{attrs:{prop:"flowState",label:"状态",width:"100"},scopedSlots:t._u([{key:"default",fn:function(e){return e.row.top?void 0:[1==e.row.flowState?n("el-tag",[t._v("等待审核")]):2==e.row.flowState?n("el-tag",{attrs:{type:"success"}},[t._v("审核通过")]):3==e.row.flowState?n("el-tag",{attrs:{type:"danger"}},[t._v("审核驳回")]):4==e.row.flowState?n("el-tag",{attrs:{type:"danger"}},[t._v("流程撤回")]):5==e.row.flowState?n("el-tag",{attrs:{type:"warning"}},[t._v("审核终止")]):n("el-tag",{attrs:{type:"info"}},[t._v("等待提交")])]}}],null,!0)}):t._e(),t.columnData.columnBtnsList.length?n("el-table-column",{attrs:{label:"操作",fixed:"right",width:50*t.columnData.columnBtnsList.length},scopedSlots:t._u([{key:"default",fn:function(e){return e.row.top?void 0:[t.isPreview||!t.columnData.useBtnPermission?[t._l(t.columnData.columnBtnsList,(function(a,i){return["edit"==a.value?[n("el-button",{key:i,attrs:{size:"mini",type:"text",disabled:3==t.config.webType&&[1,2,5].indexOf(e.row.flowState)>-1},on:{click:function(n){return t.columnBtnsHandel(a.value,e.row)}}},[t._v("\n                    "+t._s(a.label))])]:t._e(),"remove"==a.value?[n("el-button",{key:i,staticClass:"JNPF-table-delBtn",attrs:{size:"mini",type:"text",disabled:3==t.config.webType&&[1,2,3,5].indexOf(e.row.flowState)>-1},on:{click:function(n){return t.columnBtnsHandel(a.value,e.row)}}},[t._v("\n                    "+t._s(a.label))])]:t._e(),"detail"==a.value?[n("el-button",{key:i,attrs:{size:"mini",type:"text",disabled:3==t.config.webType&&!e.row.flowState},on:{click:function(n){return t.columnBtnsHandel(a.value,e.row)}}},[t._v("\n                    "+t._s(a.label))])]:t._e()]}))]:[t._l(t.columnData.columnBtnsList,(function(a,i){return["edit"==a.value?[n("el-button",{directives:[{name:"has",rawName:"v-has",value:"btn_"+a.value,expression:"'btn_'+item.value"}],key:i,attrs:{size:"mini",type:"text",disabled:3==t.config.webType&&[1,2,5].indexOf(e.row.flowState)>-1},on:{click:function(n){return t.columnBtnsHandel(a.value,e.row)}}},[t._v("\n                    "+t._s(a.label))])]:t._e(),"remove"==a.value?[n("el-button",{directives:[{name:"has",rawName:"v-has",value:"btn_"+a.value,expression:"'btn_'+item.value"}],key:i,staticClass:"JNPF-table-delBtn",attrs:{size:"mini",type:"text",disabled:3==t.config.webType&&[1,2,3,5].indexOf(e.row.flowState)>-1},on:{click:function(n){return t.columnBtnsHandel(a.value,e.row)}}},[t._v("\n                    "+t._s(a.label))])]:t._e(),"detail"==a.value?[n("el-button",{directives:[{name:"has",rawName:"v-has",value:"btn_"+a.value,expression:"'btn_'+item.value"}],key:i,attrs:{size:"mini",type:"text",disabled:3==t.config.webType&&!e.row.flowState},on:{click:function(n){return t.columnBtnsHandel(a.value,e.row)}}},[t._v("\n                    "+t._s(a.label))])]:t._e()]}))]]}}],null,!0)}):t._e()],2):t._e(),3!==t.columnData.type&&t.columnData.hasPage?[n("pagination",{attrs:{total:t.total,page:t.listQuery.currentPage,limit:t.listQuery.pageSize},on:{"update:page":function(e){return t.$set(t.listQuery,"currentPage",e)},"update:limit":function(e){return t.$set(t.listQuery,"pageSize",e)},pagination:t.initData}})]:t._e()],2)],1),t.flowVisible?n("FlowBox",{ref:"FlowBox",on:{close:t.colseFlow}}):t._e(),n("Form",{directives:[{name:"show",rawName:"v-show",value:t.formVisible,expression:"formVisible"}],ref:"Form",on:{refreshDataList:t.refresh}}),n("Detail",{directives:[{name:"show",rawName:"v-show",value:t.detailVisible,expression:"detailVisible"}],ref:"Detail",on:{close:function(e){t.detailVisible=!1}}}),t.exportBoxVisible?n("ExportBox",{ref:"ExportBox",on:{download:t.download}}):t._e()],1)},i=[],o=n("5530"),s=(n("386d"),n("ade3")),r=(n("55dd"),n("ef22")),l=n("9b6f"),c=n("17de"),u=n("ba53"),d=n("226a"),f=n("841b"),m=n("e16c"),p=n("20f7"),h={name:"dynamicModel",components:{Form:u["default"],ExportBox:m["default"],Search:p["default"],Detail:f["default"],FlowBox:d["default"]},props:["config","modelId","isPreview"],data:function(){return{keyword:"",treeProps:{children:"children",label:"fullName",value:"id"},list:[],total:0,listLoading:!1,listQuery:{currentPage:1,pageSize:20,sort:"desc",sidx:"",json:""},flowVisible:!1,formVisible:!1,detailVisible:!1,importBoxVisible:!1,exportBoxVisible:!1,treeData:[],treeActiveId:"",columnData:{columnBtnsList:[]},formData:{},columnList:[],hasBatchBtn:!1,refreshTable:!0,multipleSelection:[]}},created:function(){this.init()},methods:{init:function(){var t=this;this.refreshTable=!1,this.config.columnData&&this.config.formData&&(this.columnData=JSON.parse(this.config.columnData),3===this.columnData.type&&(this.columnData.columnList=this.columnData.columnList.filter((function(e){return e.prop!=t.columnData.groupField}))),this.hasBatchBtn=this.columnData.btnsList.some((function(t){return"batchRemove"==t.value})),this.$nextTick((function(){t.refreshTable=!0})),this.formData=JSON.parse(this.config.formData),this.getColumnList(),this.isPreview||(this.listQuery.pageSize=this.columnData.pageSize,this.listQuery.sort=this.columnData.sort,this.listQuery.sidx=this.columnData.defaultSidx,3!==this.columnData.type&&this.columnData.hasPage||(this.listQuery.pageSize=1e4),2===this.columnData.type?(this.treeProps.value=this.columnData.treePropsValue||"id",this.treeProps.label=this.columnData.treePropsLabel||"fullName",this.treeProps.children=this.columnData.treePropsChildren||"children",this.getTreeView()):this.initData()))},initData:function(){var t=this;this.isPreview||(this.listLoading=!0,Object(r["t"])(this.modelId,this.listQuery).then((function(e){t.list=e.data.list,3!==t.columnData.type&&t.columnData.hasPage&&(t.total=e.data.pagination.total),t.listLoading=!1})))},getTreeView:function(){var t=this;if("dictionary"===this.columnData.treeDataSource){if(!this.columnData.treeDictionary)return;Object(l["i"])(this.columnData.treeDictionary).then((function(e){t.treeData=e.data.list,t.initData()}))}if("organize"===this.columnData.treeDataSource&&this.$store.dispatch("generator/getCompanyTree").then((function(e){t.treeData=e,t.initData()})),"department"===this.columnData.treeDataSource&&this.$store.dispatch("generator/getDepTree").then((function(e){t.treeData=e,t.initData()})),"api"===this.columnData.treeDataSource){if(!this.columnData.treePropsUrl)return;Object(c["i"])(this.columnData.treePropsUrl).then((function(e){Array.isArray(e.data)?t.treeData=e.data:t.treeData=[],t.initData()}))}},getColumnList:function(){if(this.isPreview||!this.columnData.useColumnPermission)this.columnList=this.columnData.columnList;else{for(var t=this.$store.getters.permissionList,e=this.$route.meta.modelId,n=t.filter((function(t){return t.modelId===e})),a=n[0]&&n[0].column?n[0].column:[],i=[],o=0;o<a.length;o++)t:for(var s=0;s<this.columnData.columnList.length;s++)if(a[o].enCode===this.columnData.columnList[s].prop){i.push(this.columnData.columnList[s]);break t}this.columnList=i}},handleNodeClick:function(t){if(this.treeActiveId!=t[this.treeProps.value]){this.treeActiveId=t[this.treeProps.value],this.$refs.Search.treeReset();var e=Object(s["a"])({},this.columnData.treeRelation,t[this.treeProps.value]);this.search(JSON.stringify(e))}},handleDel:function(t){var e=this;this.$confirm(this.$t("common.delTip"),this.$t("common.tipTitle"),{type:"warning"}).then((function(){Object(r["i"])(e.modelId,t).then((function(t){e.$message({type:"success",message:t.msg,duration:1e3,onClose:function(){e.initData()}})}))})).catch((function(){}))},addOrUpdateHandle:function(t,e){var n=this;if(3==this.config.webType){var a={id:t||"",enCode:this.config.flowEnCode,flowId:this.config.flowId,formType:2,type:1,opType:"-1",modelId:this.modelId,isPreview:this.isPreview};this.flowVisible=!0,this.$nextTick((function(){n.$refs.FlowBox.init(a)}))}else this.formVisible=!0,this.$nextTick((function(){n.$refs.Form.init(n.formData,n.modelId,t,n.isPreview)}))},headBtnsHandel:function(t){var e=this;"add"===t&&this.addOrUpdateHandle(),"download"==t&&(this.exportBoxVisible=!0,this.$nextTick((function(){e.$refs.ExportBox.init(e.columnList)}))),this.isPreview||"batchRemove"===t&&this.batchRemove()},handleSelectionChange:function(t){var e=t.map((function(t){return t.id}));this.multipleSelection=e},batchRemove:function(){var t=this;this.multipleSelection.length?this.$confirm("您确定要删除这些数据吗, 是否继续？","提示",{type:"warning"}).then((function(){Object(r["g"])(t.modelId,t.multipleSelection).then((function(e){t.$message({type:"success",message:e.msg,duration:1500,onClose:function(){t.initData()}})}))})).catch((function(){})):this.$message({type:"error",message:"请选择一条数据",duration:1500})},download:function(t){var e=this;if(this.isPreview)return this.$message({message:"功能预览不支持数据导出",type:"warning"});var n=Object(o["a"])(Object(o["a"])({},this.listQuery),t);Object(r["l"])(this.modelId,n).then((function(t){t.data.url&&(window.location.href=e.define.comUrl+t.data.url,e.$refs.ExportBox.visible=!1,e.exportBoxVisible=!1)}))},columnBtnsHandel:function(t,e){"edit"===t&&this.addOrUpdateHandle(e.id),"detail"===t&&this.goDetail(e.id,e.flowState),"remove"==t&&this.handleDel(e.id)},goDetail:function(t,e){var n=this;if(3==this.config.webType){var a={id:t,enCode:this.config.flowEnCode,flowId:this.config.flowId,formType:2,type:1,opType:0,modelId:this.modelId,isPreview:this.isPreview,status:e};this.flowVisible=!0,this.$nextTick((function(){n.$refs.FlowBox.init(a)}))}else this.detailVisible=!0,this.$nextTick((function(){n.$refs.Detail.init(n.formData,n.modelId,t)}))},sortChange:function(t){t.column;var e=t.prop,n=t.order;this.listQuery.sort="ascending"==n?"asc":"desc",this.listQuery.sidx=n?e:"",this.initData()},refresh:function(t){this.formVisible=!1,t&&this.initData()},colseFlow:function(t){this.flowVisible=!1,t&&this.initData()},reset:function(){this.listQuery.sort="desc",this.listQuery.sidx="",this.$refs.Search.reset()},search:function(t){this.isPreview||(t||this.$refs.treeBox&&this.$refs.treeBox.setCurrentKey(null),this.listQuery.json=t,this.listQuery.currentPage=1,this.initData())}}},v=h,g=n("2877"),_=Object(g["a"])(v,a,i,!1,null,null,null);e["default"]=_.exports},7361:function(t,e,n){"use strict";n.d(e,"b",(function(){return i})),n.d(e,"a",(function(){return o})),n.d(e,"d",(function(){return s})),n.d(e,"c",(function(){return r}));var a=n("b775");function i(t){return Object(a["a"])({url:"/api/workflow/Engine/FlowLaunch",method:"get",data:t})}function o(t){return Object(a["a"])({url:"/api/workflow/Engine/FlowLaunch/".concat(t),method:"DELETE"})}function s(t,e){return Object(a["a"])({url:"/api/workflow/Engine/FlowLaunch/".concat(t,"/Actions/Withdraw"),method:"PUT",data:e})}function r(t){return Object(a["a"])({url:"/api/workflow/Engine/FlowLaunch/Press/".concat(t),method:"post"})}},"826a":function(t,e,n){"use strict";n.d(e,"e",(function(){return i})),n.d(e,"a",(function(){return o})),n.d(e,"f",(function(){return s})),n.d(e,"c",(function(){return r})),n.d(e,"b",(function(){return l})),n.d(e,"d",(function(){return c}));n("a481");var a=n("b775");function i(t,e){return t=t.replace(t[0],t[0].toUpperCase()),Object(a["a"])({url:"/api/workflow/Form/".concat(t,"/").concat(e),method:"get"})}function o(t,e){return t=t.replace(t[0],t[0].toUpperCase()),Object(a["a"])({url:"/api/workflow/Form/".concat(t),method:"post",data:e})}function s(t,e){return t=t.replace(t[0],t[0].toUpperCase()),Object(a["a"])({url:"/api/workflow/Form/".concat(t,"/").concat(e.id),method:"put",data:e})}function r(t){return Object(a["a"])({url:"/api/workflow/Engine/FlowTask/".concat(t),method:"get"})}function l(t,e){return Object(a["a"])({url:"/api/workflow/Engine/FlowTask",method:"post",data:e})}function c(t,e){return Object(a["a"])({url:"/api/workflow/Engine/FlowTask/".concat(e.id),method:"put",data:e})}},"841b":function(t,e,n){"use strict";n.r(e);var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",["general"===t.formData.popupType?[n("el-dialog",{staticClass:"JNPF-dialog JNPF-dialog_center",attrs:{title:"详情","close-on-click-modal":!1,visible:t.visible,"lock-scroll":"",width:t.formData.generalWidth,"append-to-body":""},on:{"update:visible":function(e){t.visible=e}}},[n("div",{directives:[{name:"loading",rawName:"v-loading",value:t.loading||t.mainLoading,expression:"loading || mainLoading"}],staticClass:"dynamicDetail",attrs:{"element-loading-text":t.$t("common.loadingText")}},[t.loading?t._e():n("Parser",{attrs:{formConf:t.formData,relationData:t.relationData},on:{toDetail:t.toDetail}})],1),n("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[n("el-button",{on:{click:function(e){t.visible=!1}}},[t._v(t._s(t.$t("common.cancelButton")))])],1)])]:t._e(),"fullScreen"===t.formData.popupType?[n("transition",{attrs:{name:"el-zoom-in-center"}},[n("div",{staticClass:"JNPF-preview-main"},[n("div",{staticClass:"JNPF-common-page-header"},[n("el-page-header",{attrs:{content:"详情"},on:{back:t.goBack}}),n("div",{staticClass:"options"},[n("el-button",{on:{click:t.goBack}},[t._v(t._s(t.$t("common.cancelButton")))])],1)],1),n("div",{directives:[{name:"loading",rawName:"v-loading",value:t.loading||t.mainLoading,expression:"loading || mainLoading"}],staticClass:"dynamic-form-main dynamicDetail",style:{margin:"0 auto",width:t.formData.fullScreenWidth},attrs:{"element-loading-text":t.$t("common.loadingText")}},[t.loading?t._e():n("Parser",{attrs:{formConf:t.formData,relationData:t.relationData},on:{toDetail:t.toDetail}})],1)])])]:t._e(),t.detailVisible?n("Detail",{ref:"Detail",on:{close:function(e){t.detailVisible=!1}}}):t._e()],2)},i=[],o=(n("ac6a"),n("5df3"),n("f400"),n("ef22")),s=n("ed08"),r=n("cb1d"),l={name:"Detail",components:{Parser:r["default"]},data:function(){return{visible:!1,dataForm:{id:"",data:""},modelId:"",formData:{},formValue:{},loading:!0,mainLoading:!1,detailVisible:!1,relationData:{}}},methods:{goBack:function(){this.$emit("close")},init:function(t,e,n){var a=this;this.formData=Object(s["b"])(t),this.modelId=e,this.dataForm.id=n||"",this.loading=!0,this.relationData={},this.$nextTick((function(){a.dataForm.id?Object(o["o"])(e,a.dataForm.id).then((function(t){a.dataForm=t.data,a.dataForm.data&&(a.formValue=JSON.parse(a.dataForm.data),a.fillFormData(a.formData,a.formValue),a.visible=!0)})):(a.formValue={},a.loading=!1,a.visible=!1,a.$emit("close"))}))},unique:function(t,e){var n=new Map;return t.filter((function(t){return!n.has(t[e])&&n.set(t[e],1)}))},handleAttrList:function(t){for(var e=this,n=this.unique(t,"relationField"),a=function(t){var a=n[t],i="",s="",r="",l=function t(e){for(var n=0;n<e.length;n++){if(a.relationField===e[n].__vModel__){i=e[n].modelId,s=e[n].__config__.defaultValue,r=e[n].__vModel__;break}e[n].__config__&&"table"!==e[n].__config__.jnpfKey&&e[n].__config__.children&&Array.isArray(e[n].__config__.children)&&t(e[n].__config__.children)}};if(l(e.formData.fields),!s)return e.$set(e.relationData,r,""),"continue";Object(o["o"])(i,s).then((function(t){if(t.data&&t.data.data){var n=JSON.parse(t.data.data);e.$set(e.relationData,r,n)}else e.$set(e.relationData,r,"")})).catch((function(){e.$set(e.relationData,r,"")}))},i=0;i<n.length;i++)a(i)},toDetail:function(t){var e=this;t.__config__.defaultValue&&(this.mainLoading=!0,Object(o["n"])(t.modelId).then((function(n){if(e.mainLoading=!1,n.data&&n.data.formData){var a=JSON.parse(n.data.formData);a.popupType=e.formData.popupType,e.detailVisible=!0,e.$nextTick((function(){e.$refs.Detail.init(a,t.modelId,t.__config__.defaultValue)}))}})).catch((function(){e.mainLoading=!1})))},fillFormData:function(t,e){var n=this,a=[],i=function t(i){for(var o=0;o<i.length;o++){var s=i[o];if(s.__vModel__)if("relationForm"===s.__config__.jnpfKey){var r=e[s.__vModel__+"_id"];r&&(s.__config__.defaultValue=r),n.$set(s,"name",e[s.__vModel__]||"")}else{var l=e[s.__vModel__];l&&(s.__config__.defaultValue=l)}"relationFormAttr"===s.__config__.jnpfKey&&a.push(s),s.__config__&&"table"!==s.__config__.jnpfKey&&s.__config__.children&&Array.isArray(s.__config__.children)&&t(s.__config__.children)}};i(t.fields),this.handleAttrList(a),this.loading=!1}}},c=l,u=n("2877"),d=Object(u["a"])(c,a,i,!1,null,null,null);e["default"]=d.exports},"89a2":function(t,e,n){"use strict";n.r(e);var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("el-col",{class:{"item-card":"card"===t.item.__config__.jnpfKey,"item-table":"table"===t.item.__config__.jnpfKey},attrs:{span:t.item.__config__.span}},["colFormItem"===t.item.__config__.layout?["divider"===t.item.__config__.jnpfKey?[n("el-divider",{attrs:{"content-position":t.item["content-position"]}},[t._v(t._s(t.item.__slot__.default)+"\n      ")])]:"JNPFText"===t.item.__config__.jnpfKey?[n("el-form-item",{attrs:{"label-width":"0"}},[n("JNPFText",{attrs:{lineHeight:t.item.lineHeight,fontSize:t.item.fontSize,textStyle:t.item.textStyle},model:{value:t.item.__config__.defaultValue,callback:function(e){t.$set(t.item.__config__,"defaultValue",e)},expression:"item.__config__.defaultValue"}})],1)]:"groupTitle"===t.item.__config__.jnpfKey?[n("el-form-item",{attrs:{"label-width":"0"}},[n("groupTitle",{attrs:{content:t.item.content,"content-position":t.item["content-position"]}})],1)]:[t.item.__config__.noShow?t._e():n("el-form-item",{attrs:{prop:t.item.__vModel__,"label-width":t.item.__config__.labelWidth?t.item.__config__.labelWidth+"px":null,label:t.item.__config__.showLabel?t.item.__config__.label:""}},["uploadFz"===t.item.__config__.jnpfKey?[n("div",{staticClass:"dy-fileList"},t._l(t.item.__config__.defaultValue,(function(e,a){return n("el-link",{key:a,staticClass:"dy-fileList-item",attrs:{underline:!1},on:{click:function(n){return t.downloadFile(e)}}},[n("i",{staticClass:"el-icon-document"}),t._v(t._s(e.name)+"\n            ")])})),1)]:"uploadImg"===t.item.__config__.jnpfKey?t._l(t.item.__config__.defaultValue,(function(e,a){return n("el-image",{key:a,staticClass:"dy-img",attrs:{src:t.define.comUrl+e.url,"preview-src-list":t.getImgList(t.item.__config__.defaultValue),"z-index":1e4}})})):"colorPicker"===t.item.__config__.jnpfKey?[n("el-color-picker",{attrs:{"show-alpha":t.item["show-alpha"],"color-format":t.item["color-format"],size:t.item.size,disabled:""},model:{value:t.item.__config__.defaultValue,callback:function(e){t.$set(t.item.__config__,"defaultValue",e)},expression:"item.__config__.defaultValue"}})]:"rate"===t.item.__config__.jnpfKey?[n("el-rate",{attrs:{max:t.item.max,"allow-half":t.item["allow-half"],"show-text":t.item["show-text"],"show-score":t.item["show-score"],disabled:""},model:{value:t.item.__config__.defaultValue,callback:function(e){t.$set(t.item.__config__,"defaultValue",e)},expression:"item.__config__.defaultValue"}})]:"switch"===t.item.__config__.jnpfKey?[n("el-switch",{attrs:{"active-value":t.item["active-value"],"active-color":t.item["active-color"],"active-text":t.item["active-text"],"inactive-color":t.item["inactive-color"],"inactive-text":t.item["inactive-text"],"inactive-value":t.item["inactive-value"],disabled:""},model:{value:t.item.__config__.defaultValue,callback:function(e){t.$set(t.item.__config__,"defaultValue",e)},expression:"item.__config__.defaultValue"}})]:"slider"===t.item.__config__.jnpfKey?[n("div",{staticClass:"slider-box"},[n("el-slider",{attrs:{range:t.item.range,"show-stops":t.item["show-stops"]},model:{value:t.item.__config__.defaultValue,callback:function(e){t.$set(t.item.__config__,"defaultValue",e)},expression:"item.__config__.defaultValue"}}),n("div",{staticClass:"slider-mark"})],1)]:"editor"===t.item.__config__.jnpfKey?[n("div",{domProps:{innerHTML:t._s(t.item.__config__.defaultValue)}})]:"relationForm"===t.item.__config__.jnpfKey?[n("el-link",{attrs:{underline:!1,type:"primary"},nativeOn:{click:function(e){return t.toDetail(t.item)}}},[t._v("\n            "+t._s(t.item.name))])]:"relationFormAttr"===t.item.__config__.jnpfKey?[n("p",{staticClass:"dynamicDetail-text"},[t._v("\n            "+t._s(t.relationData[t.item.relationField]&&t.relationData[t.item.relationField][t.item.showField]?t.relationData[t.item.relationField][t.item.showField]:"")+"\n          ")])]:[n("p",{staticClass:"dynamicDetail-text"},[t._v(t._s(t.getValue(t.item)))])]],2)]]:["card"===t.item.__config__.jnpfKey?[n("el-card",{staticClass:"mb-20",attrs:{shadow:t.item.shadow,header:t.item.header}},t._l(t.item.__config__.children,(function(e,a){return n("Item",t._g(t._b({key:a,attrs:{item:e}},"Item",t.$props,!1),t.$listeners))})),1)]:t._e(),"row"===t.item.__config__.jnpfKey?[n("el-row",{attrs:{gutter:t.formConf.gutter}},t._l(t.item.__config__.children,(function(e,a){return n("Item",t._g(t._b({key:a,attrs:{item:e}},"Item",t.$props,!1),t.$listeners))})),1)]:t._e(),"table"===t.item.__config__.jnpfKey?[n("el-form-item",{attrs:{"label-width":"0"}},[t.item.__config__.showTitle?n("div",{staticClass:"JNPF-common-title"},[n("h2",[t._v(t._s(t.item.__config__.label))])]):t._e(),n("JNPF-table",{attrs:{data:t.item.__config__.defaultValue}},[t._l(t.item.__config__.children,(function(e,a){return["relationForm"===e.__config__.jnpfKey?n("el-table-column",{key:a,attrs:{prop:e.__vModel__,label:e.__config__.label},scopedSlots:t._u([{key:"default",fn:function(a){return[n("el-link",{attrs:{underline:!1,type:"primary"},nativeOn:{click:function(n){return t.toTableDetail(e,a.row[e.__vModel__+"_id"])}}},[t._v("\n                  "+t._s(a.row[e.__vModel__]))])]}}],null,!0)}):n("el-table-column",{key:a,attrs:{prop:e.__vModel__,label:e.__config__.label}})]}))],2)],1)]:t._e(),"tab"===t.item.__config__.jnpfKey?[n("el-tabs",{staticClass:"mb-10",attrs:{type:t.item.type,"tab-position":t.item["tab-position"]},model:{value:t.item.__config__.active,callback:function(e){t.$set(t.item.__config__,"active",e)},expression:"item.__config__.active"}},t._l(t.item.__config__.children,(function(e,a){return n("el-tab-pane",{key:a,attrs:{label:e.title}},t._l(e.__config__.children,(function(e,a){return n("Item",t._g(t._b({key:a,attrs:{item:e}},"Item",t.$props,!1),t.$listeners))})),1)})),1)]:t._e(),"collapse"===t.item.__config__.jnpfKey?[n("el-collapse",{staticClass:"mb-20",attrs:{accordion:t.item.accordion},model:{value:t.item.__config__.active,callback:function(e){t.$set(t.item.__config__,"active",e)},expression:"item.__config__.active"}},t._l(t.item.__config__.children,(function(e,a){return n("el-collapse-item",{key:a,attrs:{title:e.title,name:e.name}},t._l(e.__config__.children,(function(e,a){return n("Item",t._g(t._b({key:a,attrs:{item:e}},"Item",t.$props,!1),t.$listeners))})),1)})),1)]:t._e()]],2)},i=[],o=(n("6762"),n("2fdb"),n("2934")),s={name:"Item",props:{item:{type:Object,required:!0},formConf:{type:Object,required:!0},relationData:{type:Object,default:function(){}}},methods:{toDetail:function(t){this.$emit("toDetail",t)},toTableDetail:function(t,e){t.__config__.defaultValue=e,this.$emit("toDetail",t)},downloadFile:function(t){var e=this;t.fileId&&Object(o["a"])("annex",t.fileId).then((function(t){t.data.url&&(window.location.href=e.define.comUrl+t.data.url)}))},getImgList:function(t){var e=this,n=t.map((function(t){return e.define.comUrl+t.url}));return n},getValue:function(t){return Array.isArray(t.__config__.defaultValue)?["timeRange","dateRange"].includes(t.__config__.jnpfKey)?t.__config__.defaultValue.join(""):t.__config__.defaultValue.join():t.__config__.defaultValue}}},r=s,l=n("2877"),c=Object(l["a"])(r,a,i,!1,null,null,null);e["default"]=c.exports},"8cd4":function(t,e,n){},a9e4:function(t,e,n){"use strict";n.r(e);var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"DynamicDataReport-container app-container"},[n("iframe",{attrs:{width:"100%",height:"100%",src:t.url,frameborder:"0"}})])},i=[],o=n("5f87"),s={name:"dynamicDataReport",data:function(){return{id:"",url:""}},created:function(){var t=this;this.id=this.$route.meta.relationId;var e=Object(o["b"])();this.id&&this.$nextTick((function(){t.url="".concat(t.define.report,"/preview.html?id=").concat(t.id,"&token=").concat(e,"&page=1&from=menu")}))},methods:{}},r=s,l=(n("2192"),n("2877")),c=Object(l["a"])(r,a,i,!1,null,"2a2159f0",null);e["default"]=c.exports},abd3:function(t,e,n){},afcb:function(t,e,n){!function(e,n){t.exports=n()}("undefined"!=typeof self&&self,(function(){return function(t){function e(a){if(n[a])return n[a].exports;var i=n[a]={i:a,l:!1,exports:{}};return t[a].call(i.exports,i,i.exports,e),i.l=!0,i.exports}var n={};return e.m=t,e.c=n,e.d=function(t,n,a){e.o(t,n)||Object.defineProperty(t,n,{configurable:!1,enumerable:!0,get:a})},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,"a",n),n},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="/dist/",e(e.s=1)}([function(t,e,n){"use strict";function a(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}e.a={props:{width:{type:Number,default:document.body.offsetWidth},height:{type:Number,default:500},lineWidth:{type:Number,default:4},lineColor:{type:String,default:"#000000"},bgColor:{type:String,default:""},isCrop:{type:Boolean,default:!1}},data:function(){return{hasDrew:!1,resultImg:"",points:[],canvasTxt:null,startX:0,startY:0,isDrawing:!1,sratio:1}},computed:{ratio:function(){return this.height/this.width},stageInfo:function(){return this.$refs.canvas.getBoundingClientRect()},myBg:function(){return this.bgColor?this.bgColor:"rgba(255, 255, 255, 0)"}},watch:{myBg:function(t){this.$refs.canvas.style.background=t}},beforeMount:function(){window.addEventListener("resize",this.$_resizeHandler)},beforeDestroy:function(){window.removeEventListener("resize",this.$_resizeHandler)},mounted:function(){var t=this,e=this.$refs.canvas;e.height=this.height,e.width=this.width,e.style.background=this.myBg,this.$_resizeHandler(),document.onmouseup=function(){t.isDrawing=!1}},methods:{$_resizeHandler:function(){var t=this.$refs.canvas;t.style.width=this.width+"px";var e=parseFloat(window.getComputedStyle(t).width);t.style.height=this.ratio*e+"px",this.canvasTxt=t.getContext("2d"),this.canvasTxt.scale(1*this.sratio,1*this.sratio),this.sratio=e/this.width,this.canvasTxt.scale(1/this.sratio,1/this.sratio)},mouseDown:function(t){t=t||event,t.preventDefault(),this.isDrawing=!0,this.hasDrew=!0;var e={x:t.offsetX,y:t.offsetY};this.drawStart(e)},mouseMove:function(t){if(t=t||event,t.preventDefault(),this.isDrawing){var e={x:t.offsetX,y:t.offsetY};this.drawMove(e)}},mouseUp:function(t){t=t||event,t.preventDefault();var e={x:t.offsetX,y:t.offsetY};this.drawEnd(e),this.isDrawing=!1},touchStart:function(t){if(t=t||event,t.preventDefault(),this.hasDrew=!0,1===t.touches.length){var e={x:t.targetTouches[0].clientX-this.$refs.canvas.getBoundingClientRect().left,y:t.targetTouches[0].clientY-this.$refs.canvas.getBoundingClientRect().top};this.drawStart(e)}},touchMove:function(t){if(t=t||event,t.preventDefault(),1===t.touches.length){var e={x:t.targetTouches[0].clientX-this.$refs.canvas.getBoundingClientRect().left,y:t.targetTouches[0].clientY-this.$refs.canvas.getBoundingClientRect().top};this.drawMove(e)}},touchEnd:function(t){if(t=t||event,t.preventDefault(),1===t.touches.length){var e={x:t.targetTouches[0].clientX-this.$refs.canvas.getBoundingClientRect().left,y:t.targetTouches[0].clientY-this.$refs.canvas.getBoundingClientRect().top};this.drawEnd(e)}},drawStart:function(t){this.startX=t.x,this.startY=t.y,this.canvasTxt.beginPath(),this.canvasTxt.moveTo(this.startX,this.startY),this.canvasTxt.lineTo(t.x,t.y),this.canvasTxt.lineCap="round",this.canvasTxt.lineJoin="round",this.canvasTxt.lineWidth=this.lineWidth*this.sratio,this.canvasTxt.stroke(),this.canvasTxt.closePath(),this.points.push(t)},drawMove:function(t){this.canvasTxt.beginPath(),this.canvasTxt.moveTo(this.startX,this.startY),this.canvasTxt.lineTo(t.x,t.y),this.canvasTxt.strokeStyle=this.lineColor,this.canvasTxt.lineWidth=this.lineWidth*this.sratio,this.canvasTxt.lineCap="round",this.canvasTxt.lineJoin="round",this.canvasTxt.stroke(),this.canvasTxt.closePath(),this.startY=t.y,this.startX=t.x,this.points.push(t)},drawEnd:function(t){this.canvasTxt.beginPath(),this.canvasTxt.moveTo(this.startX,this.startY),this.canvasTxt.lineTo(t.x,t.y),this.canvasTxt.lineCap="round",this.canvasTxt.lineJoin="round",this.canvasTxt.stroke(),this.canvasTxt.closePath(),this.points.push(t),this.points.push({x:-1,y:-1})},generate:function(){var t=this;return new Promise((function(e,n){if(t.hasDrew){var i=t.canvasTxt.getImageData(0,0,t.$refs.canvas.width,t.$refs.canvas.height);t.canvasTxt.globalCompositeOperation="destination-over",t.canvasTxt.fillStyle=t.myBg,t.canvasTxt.fillRect(0,0,t.$refs.canvas.width,t.$refs.canvas.height),t.resultImg=t.$refs.canvas.toDataURL();var o=t.resultImg;if(t.canvasTxt.clearRect(0,0,t.$refs.canvas.width,t.$refs.canvas.height),t.canvasTxt.putImageData(i,0,0),t.canvasTxt.globalCompositeOperation="source-over",t.isCrop){var s,r=t.getCropArea(i.data),l=document.createElement("canvas"),c=l.getContext("2d");l.width=r[2]-r[0],l.height=r[3]-r[1];var u=(s=t.canvasTxt).getImageData.apply(s,a(r));c.globalCompositeOperation="destination-over",c.putImageData(u,0,0),c.fillStyle=t.myBg,c.fillRect(0,0,l.width,l.height),o=l.toDataURL(),l=null}e(o)}else n("Warning: Not Signned!")}))},reset:function(){this.canvasTxt.clearRect(0,0,this.$refs.canvas.width,this.$refs.canvas.height),this.$emit("update:bgColor",""),this.$refs.canvas.style.background="rgba(255, 255, 255, 0)",this.points=[],this.hasDrew=!1,this.resultImg=""},getCropArea:function(t){for(var e=this.$refs.canvas.width,n=0,a=this.$refs.canvas.height,i=0,o=0;o<this.$refs.canvas.width;o++)for(var s=0;s<this.$refs.canvas.height;s++){var r=4*(o+this.$refs.canvas.width*s);(t[r]>0||t[r+1]>0||t[r+2]||t[r+3]>0)&&(i=Math.max(s,i),n=Math.max(o,n),a=Math.min(s,a),e=Math.min(o,e))}return e++,n++,a++,i++,[e,a,n,i]}}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=n(2);a.a.install=function(t){this.installed||(this.installed=!0,t.component("vueEsign",a.a))},e.default=a.a,"undefined"!=typeof window&&window.Vue&&window.Vue.use(a.a)},function(t,e,n){"use strict";function a(t){n(3)}var i=n(0),o=n(9),s=n(8),r=a,l=s(i.a,o.a,!1,r,"data-v-25d47434",null);e.a=l.exports},function(t,e,n){var a=n(4);"string"==typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals),n(6)("4828dc1e",a,!0,{})},function(t,e,n){e=t.exports=n(5)(!1),e.push([t.i,"canvas[data-v-25d47434]{max-width:100%;display:block}",""])},function(t,e){function n(t,e){var n=t[1]||"",i=t[3];if(!i)return n;if(e&&"function"==typeof btoa){var o=a(i);return[n].concat(i.sources.map((function(t){return"/*# sourceURL="+i.sourceRoot+t+" */"}))).concat([o]).join("\n")}return[n].join("\n")}function a(t){return"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(t))))+" */"}t.exports=function(t){var e=[];return e.toString=function(){return this.map((function(e){var a=n(e,t);return e[2]?"@media "+e[2]+"{"+a+"}":a})).join("")},e.i=function(t,n){"string"==typeof t&&(t=[[null,t,""]]);for(var a={},i=0;i<this.length;i++){var o=this[i][0];"number"==typeof o&&(a[o]=!0)}for(i=0;i<t.length;i++){var s=t[i];"number"==typeof s[0]&&a[s[0]]||(n&&!s[2]?s[2]=n:n&&(s[2]="("+s[2]+") and ("+n+")"),e.push(s))}},e}},function(t,e,n){function a(t){for(var e=0;e<t.length;e++){var n=t[e],a=u[n.id];if(a){a.refs++;for(var i=0;i<a.parts.length;i++)a.parts[i](n.parts[i]);for(;i<n.parts.length;i++)a.parts.push(o(n.parts[i]));a.parts.length>n.parts.length&&(a.parts.length=n.parts.length)}else{var s=[];for(i=0;i<n.parts.length;i++)s.push(o(n.parts[i]));u[n.id]={id:n.id,refs:1,parts:s}}}}function i(){var t=document.createElement("style");return t.type="text/css",d.appendChild(t),t}function o(t){var e,n,a=document.querySelector("style["+g+'~="'+t.id+'"]');if(a){if(p)return h;a.parentNode.removeChild(a)}if(_){var o=m++;a=f||(f=i()),e=s.bind(null,a,o,!1),n=s.bind(null,a,o,!0)}else a=i(),e=r.bind(null,a),n=function(){a.parentNode.removeChild(a)};return e(t),function(a){if(a){if(a.css===t.css&&a.media===t.media&&a.sourceMap===t.sourceMap)return;e(t=a)}else n()}}function s(t,e,n,a){var i=n?"":a.css;if(t.styleSheet)t.styleSheet.cssText=b(e,i);else{var o=document.createTextNode(i),s=t.childNodes;s[e]&&t.removeChild(s[e]),s.length?t.insertBefore(o,s[e]):t.appendChild(o)}}function r(t,e){var n=e.css,a=e.media,i=e.sourceMap;if(a&&t.setAttribute("media",a),v.ssrId&&t.setAttribute(g,e.id),i&&(n+="\n/*# sourceURL="+i.sources[0]+" */",n+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(i))))+" */"),t.styleSheet)t.styleSheet.cssText=n;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(n))}}var l="undefined"!=typeof document;if("undefined"!=typeof DEBUG&&DEBUG&&!l)throw new Error("vue-style-loader cannot be used in a non-browser environment. Use { target: 'node' } in your Webpack config to indicate a server-rendering environment.");var c=n(7),u={},d=l&&(document.head||document.getElementsByTagName("head")[0]),f=null,m=0,p=!1,h=function(){},v=null,g="data-vue-ssr-id",_="undefined"!=typeof navigator&&/msie [6-9]\b/.test(navigator.userAgent.toLowerCase());t.exports=function(t,e,n,i){p=n,v=i||{};var o=c(t,e);return a(o),function(e){for(var n=[],i=0;i<o.length;i++){var s=o[i],r=u[s.id];r.refs--,n.push(r)}e?(o=c(t,e),a(o)):o=[];for(i=0;i<n.length;i++){r=n[i];if(0===r.refs){for(var l=0;l<r.parts.length;l++)r.parts[l]();delete u[r.id]}}}};var b=function(){var t=[];return function(e,n){return t[e]=n,t.filter(Boolean).join("\n")}}()},function(t,e){t.exports=function(t,e){for(var n=[],a={},i=0;i<e.length;i++){var o=e[i],s=o[0],r=o[1],l=o[2],c=o[3],u={id:t+":"+i,css:r,media:l,sourceMap:c};a[s]?a[s].parts.push(u):n.push(a[s]={id:s,parts:[u]})}return n}},function(t,e){t.exports=function(t,e,n,a,i,o){var s,r=t=t||{},l=typeof t.default;"object"!==l&&"function"!==l||(s=t,r=t.default);var c,u="function"==typeof r?r.options:r;if(e&&(u.render=e.render,u.staticRenderFns=e.staticRenderFns,u._compiled=!0),n&&(u.functional=!0),i&&(u._scopeId=i),o?(c=function(t){t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext,t||"undefined"==typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),a&&a.call(this,t),t&&t._registeredComponents&&t._registeredComponents.add(o)},u._ssrRegister=c):a&&(c=a),c){var d=u.functional,f=d?u.render:u.beforeCreate;d?(u._injectStyles=c,u.render=function(t,e){return c.call(e),f(t,e)}):u.beforeCreate=f?[].concat(f,c):[c]}return{esModule:s,exports:r,options:u}}},function(t,e,n){"use strict";var a=function(){var t=this,e=t.$createElement;return(t._self._c||e)("canvas",{ref:"canvas",on:{mousedown:t.mouseDown,mousemove:t.mouseMove,mouseup:t.mouseUp,touchstart:t.touchStart,touchmove:t.touchMove,touchend:t.touchEnd}})},i=[],o={render:a,staticRenderFns:i};e.a=o}])}))},b2a3:function(t,e,n){"use strict";n.r(e);var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"lock-container"},[n("div",{staticClass:"lock-form"},[n("img",{staticClass:"lock-screen-img",attrs:{src:t.define.comUrl+t.userInfo.headIcon}}),n("p",{staticClass:"mb-20 mt-10"},[t._v(t._s(t.userInfo.userName)+"/"+t._s(t.userInfo.userAccount))]),n("el-input",{attrs:{placeholder:"请输入登录密码","show-password":""},model:{value:t.password,callback:function(e){t.password=e},expression:"password"}},[n("el-button",{attrs:{slot:"append",icon:"ace-icon el-icon-unlock",loading:t.loading},on:{click:t.handleLogin},slot:"append"})],1)],1)])},i=[],o=n("5530"),s=n("2f62"),r={name:"lockScreen",data:function(){return{password:"",loading:!1}},created:function(){var t=this;document.onkeydown=function(e){var n=window.event.keyCode;13===n&&t.handleLogin()}},mounted:function(){},computed:Object(o["a"])({},Object(s["b"])(["userInfo"])),destroyed:function(){document.onkeydown=function(t){window.event.keyCode}},methods:{handleLogout:function(){var t=this;this.$confirm("您确定要退出应用程序吗?","提示",{type:"warning"}).then((function(){t.$store.dispatch("user/logout").then((function(){t.$router.push({path:"/login"})}))})).catch((function(){return!1}))},handleLogin:function(){var t=this;if(this.loading=!0,!this.password)return this.$message({message:"请输入解锁密码",type:"error"}),void(this.loading=!1);this.$store.dispatch("user/unlock",{password:this.password,account:this.userInfo.userAccount}).then((function(){t.$router.go(-1),t.loading=!1})).catch((function(){t.loading=!1}))}},components:{}},l=r,c=(n("fc98"),n("2877")),u=Object(c["a"])(l,a,i,!1,null,"8967f788",null);e["default"]=u.exports},b4b7:function(t,e,n){"use strict";n.r(e);var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"JNPF-common-layout"},[n("div",{staticClass:"JNPF-preview-main"},[n("div",{staticClass:"JNPF-common-page-header"},[n("p",[t._v(t._s(t.config.fullName))]),n("div",{staticClass:"options"},[n("el-button",{attrs:{type:"primary",loading:t.btnLoading},on:{click:function(e){return t.dataFormSubmit()}}},[t._v("\n          "+t._s(t.formData.confirmButtonText||"确 定"))]),n("el-button",{attrs:{type:"warning"},on:{click:function(e){return t.resetForm()}}},[t._v("重置")])],1)]),n("div",{staticClass:"dynamic-form-main",style:{margin:"0 auto",width:t.formData.fullScreenWidth}},[t.loading?t._e():n("parser",{key:t.key,ref:"dynamicForm",attrs:{"form-conf":t.formData},on:{submit:t.sumbitForm}})],1)])])},i=[],o=n("ef22"),s=n("49aa"),r={components:{Parser:s["a"]},props:["config","modelId","isPreview"],data:function(){return{visible:!1,dataForm:{data:""},formData:{},key:+new Date,btnLoading:!1,loading:!0}},created:function(){this.init()},methods:{init:function(){var t=this;this.formData=JSON.parse(this.config.formData),this.loading=!0,this.$nextTick((function(){t.visible=!0,t.loading=!1,t.key=+new Date}))},sumbitForm:function(t){var e=this;t&&(this.btnLoading=!0,this.dataForm.data=JSON.stringify(t),Object(o["h"])(this.modelId,this.dataForm).then((function(t){e.$message({message:t.msg,type:"success",duration:1500,onClose:function(){e.btnLoading=!1,e.resetForm()}})})).catch((function(){e.btnLoading=!1})))},dataFormSubmit:function(){if(this.isPreview)return this.$message({message:"功能预览不支持数据保存",type:"warning"});this.$refs.dynamicForm&&this.$refs.dynamicForm.submitForm()},resetForm:function(){this.$refs.dynamicForm&&this.$refs.dynamicForm.resetForm()}}},l=r,c=n("2877"),u=Object(c["a"])(l,a,i,!1,null,null,null);e["default"]=u.exports},b952:function(t,e,n){var a={"./el-button.js":"6700","./el-checkbox-group.js":"914c","./el-divider.js":"2a5c","./el-input.js":"518b","./el-radio-group.js":"9169","./el-select.js":"3f02"};function i(t){var e=o(t);return n(e)}function o(t){var e=a[t];if(!(e+1)){var n=new Error("Cannot find module '"+t+"'");throw n.code="MODULE_NOT_FOUND",n}return e}i.keys=function(){return Object.keys(a)},i.resolve=o,t.exports=i,i.id="b952"},ba53:function(t,e,n){"use strict";n.r(e);var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",["general"===t.formData.popupType?[n("el-dialog",{staticClass:"JNPF-dialog JNPF-dialog_center",attrs:{title:t.dataForm.id?"编辑":"新建","close-on-click-modal":!1,visible:t.visible,"lock-scroll":"",width:t.formData.generalWidth},on:{"update:visible":function(e){t.visible=e}}},[t.loading?t._e():n("parser",{key:t.key,ref:"dynamicForm",attrs:{"form-conf":t.formData},on:{submit:t.sumbitForm}}),n("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[n("el-button",{on:{click:function(e){t.visible=!1}}},[t._v(t._s(t.formData.cancelButtonText||"取 消"))]),n("el-button",{attrs:{type:"primary",loading:t.btnLoading},on:{click:function(e){return t.dataFormSubmit()}}},[t._v("\n          "+t._s(t.formData.confirmButtonText||"确 定"))])],1)],1)]:t._e(),"fullScreen"===t.formData.popupType?[n("transition",{attrs:{name:"el-zoom-in-center"}},[n("div",{staticClass:"JNPF-preview-main"},[n("div",{staticClass:"JNPF-common-page-header"},[n("el-page-header",{attrs:{content:t.dataForm.id?"编辑":"新建"},on:{back:t.goBack}}),n("div",{staticClass:"options"},[n("el-button",{attrs:{type:"primary",loading:t.btnLoading},on:{click:function(e){return t.dataFormSubmit()}}},[t._v("\n              "+t._s(t.formData.confirmButtonText||"确 定"))]),n("el-button",{on:{click:t.goBack}},[t._v(t._s(t.formData.cancelButtonText||"取 消"))])],1)],1),n("div",{staticClass:"dynamic-form-main",style:{margin:"0 auto",width:t.formData.fullScreenWidth}},[t.loading?t._e():n("parser",{key:t.key,ref:"dynamicForm",attrs:{"form-conf":t.formData},on:{submit:t.sumbitForm}})],1)])])]:t._e()],2)},i=[],o=n("ef22"),s=n("49aa"),r=n("ed08"),l={components:{Parser:s["a"]},data:function(){return{visible:!1,dataForm:{id:"",data:""},modelId:"",formData:{},formValue:{},key:+new Date,btnLoading:!1,loading:!0,isPreview:!1}},methods:{goBack:function(){this.$emit("refreshDataList")},init:function(t,e,n,a){var i=this;this.formData=Object(r["b"])(t),this.modelId=e,this.isPreview=a,this.dataForm.id=n||"",this.loading=!0,this.$nextTick((function(){i.dataForm.id?Object(o["s"])(e,i.dataForm.id).then((function(t){i.dataForm=t.data,i.dataForm.data&&(i.formValue=JSON.parse(i.dataForm.data),i.fillFormData(i.formData,i.formValue),i.$nextTick((function(){i.visible=!0,i.loading=!1})))})):(i.formValue={},i.visible=!0,i.loading=!1),i.key=+new Date}))},fillFormData:function(t,e){var n=function t(n){for(var a=0;a<n.length;a++){var i=n[a];if(i.__vModel__){var o=e[i.__vModel__];o&&(i.__config__.defaultValue=o)}i.__config__&&"table"!==i.__config__.jnpfKey&&i.__config__.children&&Array.isArray(i.__config__.children)&&t(i.__config__.children)}};n(t.fields)},sumbitForm:function(t){var e=this;if(t){this.btnLoading=!0,this.dataForm.data=JSON.stringify(t);var n=this.dataForm.id?o["x"]:o["h"];n(this.modelId,this.dataForm).then((function(t){e.$message({message:t.msg,type:"success",duration:1500,onClose:function(){e.visible=!1,e.btnLoading=!1,e.$emit("refreshDataList",!0)}})})).catch((function(){e.btnLoading=!1}))}},dataFormSubmit:function(){if(this.isPreview)return this.$message({message:"功能预览不支持数据保存",type:"warning"});this.$refs.dynamicForm&&this.$refs.dynamicForm.submitForm()}}},c=l,u=n("2877"),d=Object(u["a"])(c,a,i,!1,null,null,null);e["default"]=d.exports},bee2:function(t,e,n){"use strict";function a(t,e){for(var n=0;n<e.length;n++){var a=e[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}function i(t,e,n){return e&&a(t.prototype,e),n&&a(t,n),t}n.d(e,"a",(function(){return i}))},c13c:function(t,e,n){t.exports=n.p+"static/img/dashboard-nodata.fc62cb59.png"},c70d:function(t,e,n){"use strict";n("abd3")},c875:function(t,e,n){"use strict";n.r(e);var a=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticClass:"dynamicPortal-container",attrs:{"element-loading-text":t.$t("common.loadingText")}},[t.ajaxing?t._e():[t.portalId?a("PortalLayout",{attrs:{layout:t.layout}}):a("div",{staticClass:"portal-layout-nodata"},[a("img",{staticClass:"layout-nodata-img",attrs:{src:n("c13c"),alt:""}}),a("p",{staticClass:"layout-nodata-txt"},[t._v("暂无数据")])])]],2)},i=[],o=n("1641"),s=n("c797"),r={name:"dynamicPortal",components:{PortalLayout:s["a"]},data:function(){return{portalId:"",layout:[],ajaxing:!0,loading:!1}},created:function(){this.portalId=this.$route.meta.relationId,this.getData()},methods:{getData:function(){var t=this;if(this.loading=!0,this.layout=[],!this.portalId)return this.loading=!1,void(this.ajaxing=!1);Object(o["g"])(this.portalId).then((function(e){if(e.data&&e.data.formData){var n=JSON.parse(e.data.formData);t.layout=n.layout||[]}t.ajaxing=!1,setTimeout((function(){t.loading=!1}),500)})).catch((function(){t.loading=!1,t.ajaxing=!1}))}}},l=r,c=(n("c70d"),n("2877")),u=Object(c["a"])(l,a,i,!1,null,"63216f8d",null);e["default"]=u.exports},c8fa:function(t,e,n){"use strict";n("8cd4")},cb1d:function(t,e,n){"use strict";n.r(e);var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("el-row",{class:t.formConf.formStyle?t.formConf.formStyle+" word-from-detail":"",attrs:{gutter:t.formConf.gutter}},[n("el-form",{ref:t.formConf.formRef,attrs:{size:t.formConf.size,"label-position":t.formConf.labelPosition,"label-width":t.formConf.labelWidth+"px"}},t._l(t.formConf.fields,(function(e,a){return n("Item",t._g(t._b({key:a,attrs:{item:e}},"Item",t.$props,!1),t.$listeners))})),1)],1)},i=[],o=n("89a2"),s={components:{Item:o["default"]},props:{formConf:{type:Object,required:!0},relationData:{type:Object,default:function(){}},loading:{type:Boolean,default:!1}}},r=s,l=n("2877"),c=Object(l["a"])(r,a,i,!1,null,null,null);e["default"]=c.exports},cded:function(t,e,n){},ce76:function(t,e,n){"use strict";n.r(e);var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("el-col",{staticStyle:{"padding-left":"20px",overflow:"auto"},attrs:{span:18}},[n("el-timeline",{attrs:{reverse:""}},[t._l(t.list,(function(e,a){return[2==e.handleStatus?n("el-timeline-item",{key:a,attrs:{timestamp:t._f("toDate")(e.handleTime),placement:"top"}},[n("el-card",[n("p",{staticClass:"timeline-cell"},[t._v("发起人："+t._s(e.userName))])])],1):3==e.handleStatus?n("el-timeline-item",{key:a,attrs:{timestamp:t._f("toDate")(e.handleTime),placement:"top"}},[n("el-card",[n("p",{staticClass:"timeline-cell"},[t._v("撤回节点："+t._s(e.nodeName))]),n("p",{staticClass:"timeline-cell"},[t._v("撤回人员："+t._s(e.userName))]),n("p",{staticClass:"timeline-cell"},[t._v("撤回原因："+t._s(e.handleOpinion))])])],1):4==e.handleStatus?n("el-timeline-item",{key:a,attrs:{timestamp:t._f("toDate")(e.handleTime),placement:"top"}},[n("el-card",[n("el-row",[n("el-col",{attrs:{span:18}},[n("p",{staticClass:"timeline-cell"},[t._v("审核节点："+t._s(e.nodeName))])]),n("el-col",{attrs:{span:6}},[n("p",{staticClass:"timeline-cell",staticStyle:{"text-align":"right"}},[n("el-link",{attrs:{underline:!1,type:"danger"}},[t._v("流程终止")])],1)])],1),n("p",{staticClass:"timeline-cell"},[t._v("执行人员："+t._s(e.userName))]),n("p",{staticClass:"timeline-cell"},[t._v("执行动作：终止")]),n("p",{staticClass:"timeline-cell"},[t._v("终止原因："+t._s(e.handleOpinion))])],1)],1):5==e.handleStatus?n("el-timeline-item",{key:a,attrs:{timestamp:t._f("toDate")(e.handleTime),placement:"top"}},[n("el-card",[n("el-row",[n("el-col",{attrs:{span:18}},[n("p",{staticClass:"timeline-cell"},[t._v("审核节点："+t._s(e.nodeName))])]),n("el-col",{attrs:{span:6}},[n("p",{staticClass:"timeline-cell",staticStyle:{"text-align":"right"}},[n("el-link",{attrs:{underline:!1,type:"primary"}},[t._v("流程指派")])],1)])],1),n("p",{staticClass:"timeline-cell"},[t._v("执行人员："+t._s(e.userName))]),n("p",{staticClass:"timeline-cell"},[t._v("执行动作：指派")]),n("p",{staticClass:"timeline-cell"},[t._v("指派人员："+t._s(e.operatorId))])],1)],1):6==e.handleStatus?n("el-timeline-item",{key:a,attrs:{timestamp:t._f("toDate")(e.handleTime),placement:"top"}},[n("el-card",[n("el-row",[n("el-col",{attrs:{span:18}},[n("p",{staticClass:"timeline-cell"},[t._v("审核节点："+t._s(e.nodeName))])]),n("el-col",{attrs:{span:6}},[n("p",{staticClass:"timeline-cell",staticStyle:{"text-align":"right"}},[n("el-link",{attrs:{underline:!1,type:"primary"}},[t._v("流程加签")])],1)])],1),n("p",{staticClass:"timeline-cell"},[t._v("执行人员："+t._s(e.userName))]),n("p",{staticClass:"timeline-cell"},[t._v("执行动作：加签")]),n("p",{staticClass:"timeline-cell"},[t._v("加签人员："+t._s(e.operatorId))])],1)],1):7==e.handleStatus?n("el-timeline-item",{key:a,attrs:{timestamp:t._f("toDate")(e.handleTime),placement:"top"}},[n("el-card",[n("el-row",[n("el-col",{attrs:{span:18}},[n("p",{staticClass:"timeline-cell"},[t._v("审核节点："+t._s(e.nodeName))])]),n("el-col",{attrs:{span:6}},[n("p",{staticClass:"timeline-cell",staticStyle:{"text-align":"right"}},[n("el-link",{attrs:{underline:!1,type:"primary"}},[t._v("流程转办")])],1)])],1),n("p",{staticClass:"timeline-cell"},[t._v("执行人员："+t._s(e.userName))]),n("p",{staticClass:"timeline-cell"},[t._v("执行动作：转办")]),n("p",{staticClass:"timeline-cell"},[t._v("转办人员："+t._s(e.operatorId))])],1)],1):n("el-timeline-item",{key:a,attrs:{timestamp:t._f("toDate")(e.handleTime),placement:"top"}},[n("el-card",[n("el-row",[n("el-col",{attrs:{span:18}},[n("p",{staticClass:"timeline-cell"},[t._v("审核节点："+t._s(e.nodeName))])]),n("el-col",{attrs:{span:6}},[n("p",{staticClass:"timeline-cell",staticStyle:{"text-align":"right"}},[1==e.handleStatus?n("el-link",{attrs:{underline:!1,type:"success"}},[t._v("审核通过\n                ")]):n("el-link",{attrs:{underline:!1,type:"danger"}},[t._v("审核拒绝")])],1)])],1),n("p",{staticClass:"timeline-cell"},[t._v("审核人员："+t._s(e.userName)+t._s(1==e.status?"(加签)":""))]),e.handleOpinion?n("p",{staticClass:"timeline-cell"},[t._v("\n            审核意见："+t._s(e.handleOpinion))]):t._e(),e.signImg?n("p",{staticClass:"timeline-cell"},[t._v("\n            审核签名："),n("img",{staticClass:"signImg",attrs:{src:e.signImg}})]):t._e()],1)],1)]})),t.endTime?n("el-timeline-item",{attrs:{timestamp:t._f("toDate")(t.endTime),placement:"top"}},[n("el-card",[n("p",{staticClass:"timeline-cell"},[t._v("流程结束")])])],1):t._e()],2)],1)},i=[],o=(n("c5f6"),{props:{list:{type:Array,default:[]},endTime:{type:Number,default:0}},name:"recordList"}),s=o,r=n("2877"),l=Object(r["a"])(s,a,i,!1,null,null,null);e["default"]=l.exports},d4ec:function(t,e,n){"use strict";function a(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}n.d(e,"a",(function(){return a}))},d61d:function(t,e,n){"use strict";n("6348")},db84:function(t,e,n){var a={"./dashboard":"1099","./dashboard/":"1099","./dashboard/Setting":"f66b","./dashboard/Setting.vue":"f66b","./dashboard/index":"1099","./dashboard/index.vue":"1099","./dynamicDataReport":"a9e4","./dynamicDataReport/":"a9e4","./dynamicDataReport/index":"a9e4","./dynamicDataReport/index.vue":"a9e4","./dynamicDictionary":"dd88","./dynamicDictionary/":"dd88","./dynamicDictionary/Form":"711c","./dynamicDictionary/Form.vue":"711c","./dynamicDictionary/index":"dd88","./dynamicDictionary/index.vue":"dd88","./dynamicModel":"63c9","./dynamicModel/":"63c9","./dynamicModel/form":"b4b7","./dynamicModel/form/":"b4b7","./dynamicModel/form/index":"b4b7","./dynamicModel/form/index.vue":"b4b7","./dynamicModel/index":"63c9","./dynamicModel/index.vue":"63c9","./dynamicModel/list":"7292","./dynamicModel/list/":"7292","./dynamicModel/list/ExportBox":"e16c","./dynamicModel/list/ExportBox.vue":"e16c","./dynamicModel/list/Form":"ba53","./dynamicModel/list/Form.vue":"ba53","./dynamicModel/list/ImportBox":"2c71","./dynamicModel/list/ImportBox.vue":"2c71","./dynamicModel/list/Search":"20f7","./dynamicModel/list/Search.vue":"20f7","./dynamicModel/list/detail":"841b","./dynamicModel/list/detail/":"841b","./dynamicModel/list/detail/Item":"89a2","./dynamicModel/list/detail/Item.vue":"89a2","./dynamicModel/list/detail/Parser":"cb1d","./dynamicModel/list/detail/Parser.vue":"cb1d","./dynamicModel/list/detail/index":"841b","./dynamicModel/list/detail/index.vue":"841b","./dynamicModel/list/index":"7292","./dynamicModel/list/index.vue":"7292","./dynamicPortal":"c875","./dynamicPortal/":"c875","./dynamicPortal/index":"c875","./dynamicPortal/index.vue":"c875","./externalLink":"fdb3","./externalLink/":"fdb3","./externalLink/index":"fdb3","./externalLink/index.vue":"fdb3","./lockScreen":"b2a3","./lockScreen/":"b2a3","./lockScreen/index":"b2a3","./lockScreen/index.vue":"b2a3","./messageRecord":"ff88","./messageRecord/":"ff88","./messageRecord/Form":"079b","./messageRecord/Form.vue":"079b","./messageRecord/index":"ff88","./messageRecord/index.vue":"ff88","./profile":"3239","./profile/":"3239","./profile/components/Authorize":"5fbb","./profile/components/Authorize.vue":"5fbb","./profile/components/Password":"6110","./profile/components/Password.vue":"6110","./profile/components/SysLog":"6a12","./profile/components/SysLog.vue":"6a12","./profile/components/UserInfo":"933c","./profile/components/UserInfo.vue":"933c","./profile/index":"3239","./profile/index.vue":"3239"};function i(t){var e=o(t);return n(e)}function o(t){var e=a[t];if(!(e+1)){var n=new Error("Cannot find module '"+t+"'");throw n.code="MODULE_NOT_FOUND",n}return e}i.keys=function(){return Object.keys(a)},i.resolve=o,t.exports=i,i.id="db84"},dd88:function(t,e,n){"use strict";n.r(e);var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"JNPF-common-layout"},[n("div",{staticClass:"JNPF-common-layout-center"},[n("el-row",{staticClass:"JNPF-common-search-box",attrs:{gutter:16}},[n("el-form",{nativeOn:{submit:function(t){t.preventDefault()}}},[n("el-col",{attrs:{span:6}},[n("el-form-item",{attrs:{label:"关键词"}},[n("el-input",{attrs:{placeholder:"请输入关键词查询",clearable:""},nativeOn:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.search()}},model:{value:t.params.keyword,callback:function(e){t.$set(t.params,"keyword",e)},expression:"params.keyword"}})],1)],1),n("el-col",{attrs:{span:6}},[n("el-form-item",[n("el-button",{attrs:{type:"primary",icon:"el-icon-search"},on:{click:function(e){return t.search()}}},[t._v("\n              "+t._s(t.$t("common.search")))]),n("el-button",{attrs:{icon:"el-icon-refresh-right"},on:{click:function(e){return t.reset()}}},[t._v(t._s(t.$t("common.reset"))+"\n            ")])],1)],1)],1)],1),n("div",{staticClass:"JNPF-common-layout-main JNPF-flex-main"},[n("div",{staticClass:"JNPF-common-head"},[n("topOpts",{on:{add:function(e){return t.handleAddEdit()}}}),n("div",{staticClass:"JNPF-common-head-right"},[n("el-tooltip",{attrs:{effect:"dark",content:t.$t("common.refresh"),placement:"top"}},[n("el-link",{attrs:{icon:"icon-ym icon-ym-Refresh JNPF-common-head-icon",underline:!1},on:{click:function(e){return t.reset()}}})],1),n("screenfull")],1)],1),n("JNPF-table",{directives:[{name:"loading",rawName:"v-loading",value:t.listLoading,expression:"listLoading"}],attrs:{data:t.tableData,"row-key":"id","default-expand-all":"","tree-props":{children:"children",hasChildren:""}}},[n("el-table-column",{attrs:{prop:"fullName",label:"名称"}}),n("el-table-column",{attrs:{prop:"enCode",label:"编码"}}),n("el-table-column",{attrs:{prop:"sortCode",label:"排序",width:"70",align:"center"}}),n("el-table-column",{attrs:{label:"状态",width:"70",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("el-switch",{staticClass:"table-switch",attrs:{"active-value":1,"inactive-value":0,disabled:""},nativeOn:{click:function(n){return t.handleUpdateState(e.row)}},model:{value:e.row.enabledMark,callback:function(n){t.$set(e.row,"enabledMark",n)},expression:"scope.row.enabledMark"}})]}}])}),n("el-table-column",{attrs:{label:"操作",width:"100"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("tableOpts",{on:{edit:function(n){return t.handleAddEdit(e.row.id)},del:function(n){return t.handleDel(e.row.id)}}})]}}])})],1)],1)],1),t.formVisible?n("Form",{ref:"Form",on:{refreshDataList:t.getDictionaryList}}):t._e()],1)},i=[],o=n("9b6f"),s=n("711c"),r={name:"dynamicDictionary",components:{Form:s["default"]},data:function(){return{params:{keyword:"",isTree:0},typeId:"",formVisible:!1,treeLoading:!1,listLoading:!1,tableData:[]}},created:function(){this.typeId=this.$route.meta.relationId,this.params.isTree=this.$route.meta.isTree||0,this.typeId&&this.getDictionaryList()},methods:{search:function(){this.getDictionaryList()},reset:function(){this.params.keyword="",this.getDictionaryList()},getDictionaryList:function(){var t=this;this.listLoading=!0,Object(o["h"])(this.typeId,this.params).then((function(e){t.tableData=e.data.list,t.listLoading=!1})).catch((function(){t.listLoading=!1}))},handleNodeClick:function(t){this.listLoading=!0,this.typeId=t.id,this.params.isTree=t.isTree,this.getDictionaryList()},handleUpdateState:function(t){var e=this,n=t.enabledMark?"禁用":"开启";this.$confirm("您确定要".concat(n,"当前数据吗, 是否继续?"),"提示",{type:"warning"}).then((function(){Object(o["o"])(t.id).then((function(n){e.$message({type:"success",message:n.msg,duration:1e3,onClose:function(){e.$store.commit("base/SET_DICTIONARY_LIST",[]),t.enabledMark=t.enabledMark?0:1}})}))})).catch((function(){}))},handleAddEdit:function(t){var e=this;this.formVisible=!0,this.$nextTick((function(){e.$refs.Form.init(t,e.typeId,e.params.isTree)}))},handleDel:function(t){var e=this;this.$confirm(this.$t("common.delTip"),this.$t("common.tipTitle"),{type:"warning"}).then((function(){Object(o["c"])(t).then((function(t){e.$message({type:"success",message:t.msg,duration:1500,onClose:function(){e.$store.commit("base/SET_DICTIONARY_LIST",[]),e.getDictionaryList()}})}))})).catch((function(){}))}}},l=r,c=n("2877"),u=Object(c["a"])(l,a,i,!1,null,null,null);e["default"]=u.exports},e16c:function(t,e,n){"use strict";n.r(e);var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("el-dialog",{staticClass:"JNPF-dialog JNPF-dialog_center JNPF-dialog-export",attrs:{title:"导出数据","close-on-click-modal":!1,visible:t.visible,"lock-scroll":"",width:"600px"},on:{"update:visible":function(e){t.visible=e}}},[n("el-form",{attrs:{"label-position":"top"}},[n("el-form-item",[n("el-radio-group",{model:{value:t.type,callback:function(e){t.type=e},expression:"type"}},[n("el-radio",{attrs:{label:0}},[t._v("当前页面数据")]),n("el-radio",{attrs:{label:1}},[t._v("全部页面数据")])],1)],1),n("el-form-item",{staticClass:"export-line"},[n("p",{staticClass:"export-label",attrs:{slot:"label"},slot:"label"},[t._v("列表数据"),n("span",[t._v("请选择导出字段")])]),n("el-checkbox",{attrs:{indeterminate:t.isIndeterminate},on:{change:t.handleCheckAllChange},model:{value:t.checkAll,callback:function(e){t.checkAll=e},expression:"checkAll"}},[t._v("全选")]),n("el-checkbox-group",{on:{change:t.handleCheckedChange},model:{value:t.columns,callback:function(e){t.columns=e},expression:"columns"}},t._l(t.columnList,(function(e){return n("el-checkbox",{key:e.prop,staticClass:"column-item",attrs:{label:e.prop}},[t._v("\n          "+t._s(e.label)+"\n        ")])})),1)],1)],1),n("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[n("p",{staticClass:"footer-tip"},[t._v("提示:系统将导出列表中选中的数据")]),n("el-button",{on:{click:function(e){t.visible=!1}}},[t._v(t._s(t.$t("common.cancelButton")))]),n("el-button",{attrs:{type:"primary"},on:{click:t.downLoad}},[t._v("导 出")])],1)],1)},i=[],o={data:function(){return{visible:!1,btnLoading:!1,type:0,columns:[],checkAll:!0,isIndeterminate:!1,columnList:[]}},methods:{init:function(t){this.visible=!0,this.columnList=t,this.columns=t.map((function(t){return t.prop}))},handleCheckAllChange:function(t){this.columns=t?this.columnList.map((function(t){return t.prop})):[],this.isIndeterminate=!1},handleCheckedChange:function(t){var e=t.length;this.checkAll=e===this.columnList.length,this.isIndeterminate=e>0&&e<this.columnList.length},downLoad:function(){this.$emit("download",{dataType:this.type,selectKey:this.columns})}}},s=o,r=n("2877"),l=Object(r["a"])(s,a,i,!1,null,null,null);e["default"]=l.exports},e200:function(t,e,n){"use strict";n.d(e,"e",(function(){return i})),n.d(e,"d",(function(){return o})),n.d(e,"b",(function(){return s})),n.d(e,"g",(function(){return r})),n.d(e,"f",(function(){return l})),n.d(e,"c",(function(){return c})),n.d(e,"h",(function(){return u})),n.d(e,"a",(function(){return d}));var a=n("b775");function i(t,e){return Object(a["a"])({url:"/api/workflow/Engine/FlowBefore/List/".concat(t),method:"get",data:e})}function o(t,e){return Object(a["a"])({url:"/api/workflow/Engine/FlowBefore/".concat(t),method:"get",data:e})}function s(t,e){return Object(a["a"])({url:"/api/workflow/Engine/FlowBefore/Audit/".concat(t),method:"post",data:e})}function r(t,e){return Object(a["a"])({url:"/api/workflow/Engine/FlowBefore/Reject/".concat(t),method:"post",data:e})}function l(t,e){return Object(a["a"])({url:"/api/workflow/Engine/FlowBefore/Recall/".concat(t),method:"post",data:e})}function c(t,e){return Object(a["a"])({url:"/api/workflow/Engine/FlowBefore/Cancel/".concat(t),method:"post",data:e})}function u(t,e){return Object(a["a"])({url:"/api/workflow/Engine/FlowBefore/Transfer/".concat(t),method:"post",data:e})}function d(t,e){return Object(a["a"])({url:"/api/workflow/Engine/FlowBefore/Assign/".concat(t),method:"post",data:e})}},ee05:function(t,e,n){"use strict";n("54b1")},f3ce:function(t,e,n){"use strict";n("3b01")},f400:function(t,e,n){"use strict";var a=n("c26b"),i=n("b39a"),o="Map";t.exports=n("e0b8")(o,(function(t){return function(){return t(this,arguments.length>0?arguments[0]:void 0)}}),{get:function(t){var e=a.getEntry(i(this,o),t);return e&&e.v},set:function(t,e){return a.def(i(this,o),0===t?0:t,e)}},a,!0)},f66b:function(t,e,n){"use strict";n.r(e);var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("el-drawer",{staticClass:"JNPF-common-drawer board",attrs:{title:"切换门户",visible:t.drawer,direction:"rtl",size:"260px"},on:{"update:visible":function(e){t.drawer=e}}},[n("div",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticClass:"main",attrs:{"element-loading-text":t.loadingText}},[t.list.length?n("div",t._l(t.list,(function(e,a){return n("div",{key:a,staticClass:"item"},[n("p",{staticClass:"item-title"},[t._v(t._s(e.fullName))]),n("div",{staticClass:"item-list"},t._l(e.children,(function(e,a){return n("div",{key:a,staticClass:"item-list-item",class:{active:t.activeId===e.id},on:{click:function(n){return t.selectItem(e.id)}}},[n("p",[t._v(t._s(e.fullName))]),n("i",{staticClass:"el-icon-success"})])})),0)])})),0):n("p",{staticClass:"noData-txt"},[t._v(t._s(t.$t("common.noData")))])])])},i=[],o=n("1641"),s={name:"Setting",data:function(){return{drawer:!1,list:[],loading:!0,loadingText:"数据加载中",activeId:""}},methods:{init:function(t){this.drawer=!0,this.activeId=t,this.getList()},getList:function(){var t=this;this.loading=!0,this.loadingText="数据加载中",Object(o["j"])(1).then((function(e){t.list=e.data.list,t.loading=!1})).catch((function(){t.loading=!1}))},selectItem:function(t){var e=this;this.loading=!0,this.loadingText="切换门户中",this.activeId!=t&&Object(o["d"])(t).then((function(n){e.activeId=t,e.$emit("refresh",t),e.loading=!1,e.$store.commit("user/SET_USERINFO_PORTALID",t),e.$message({message:n.msg,type:"success",duration:1e3})})).catch((function(){e.loading=!1}))}}},r=s,l=(n("5050"),n("2877")),c=Object(l["a"])(r,a,i,!1,null,"3b12ac86",null);e["default"]=c.exports},fc98:function(t,e,n){"use strict";n("656c")},fd64:function(t,e,n){},fdb3:function(t,e,n){"use strict";n.r(e);var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"ExternalLink-container app-container"},[n("iframe",{attrs:{id:"ExternalLink",name:"ExternalLink",width:"100%",height:"100%",frameborder:"0",scrolling:"yes",src:t.url}})])},i=[],o={name:"externalLink",data:function(){return{url:""}},created:function(){this.url=this.$route.meta.urlAddress||""},methods:{}},s=o,r=(n("28b2"),n("2877")),l=Object(r["a"])(s,a,i,!1,null,"361f7e48",null);e["default"]=l.exports},ff88:function(t,e,n){"use strict";n.r(e);var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"JNPF-common-layout MessageRecord-container"},[n("div",{staticClass:"JNPF-common-layout-center"},[n("el-row",{staticClass:"JNPF-common-search-box",attrs:{gutter:16}},[n("el-form",{nativeOn:{submit:function(t){t.preventDefault()}}},[n("el-col",{attrs:{span:6}},[n("el-form-item",{attrs:{label:"关键词"}},[n("el-input",{attrs:{placeholder:"请输入关键词查询",clearable:""},nativeOn:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.search()}},model:{value:t.keyword,callback:function(e){t.keyword=e},expression:"keyword"}})],1)],1),n("el-col",{attrs:{span:6}},[n("el-form-item",[n("el-button",{attrs:{type:"primary",icon:"el-icon-search"},on:{click:function(e){return t.search()}}},[t._v("\n              "+t._s(t.$t("common.search")))]),n("el-button",{attrs:{icon:"el-icon-refresh-right"},on:{click:function(e){return t.reset()}}},[t._v(t._s(t.$t("common.reset"))+"\n            ")])],1)],1)],1)],1),n("div",{staticClass:"JNPF-common-layout-main JNPF-flex-main"},[n("el-tabs",{staticClass:"messageRecord-tab",attrs:{type:"border-card"},model:{value:t.activeName,callback:function(e){t.activeName=e},expression:"activeName"}},[n("el-tab-pane",{attrs:{label:"全部",name:"0"}}),n("el-tab-pane",{attrs:{label:"通知",name:"1"}}),n("el-tab-pane",{attrs:{label:"私信",name:"2"}}),n("div",{staticClass:"box"},[n("div",{staticClass:"JNPF-common-head"},[n("div",{staticClass:"left-btn"},[n("el-button",{attrs:{type:"danger",icon:"el-icon-delete"},on:{click:t.handleDel}},[t._v("删除")])],1),n("div",{staticClass:"JNPF-common-head-right"},[n("el-tooltip",{attrs:{effect:"dark",content:t.$t("common.refresh"),placement:"top"}},[n("el-link",{attrs:{icon:"icon-ym icon-ym-Refresh JNPF-common-head-icon",underline:!1},on:{click:function(e){return t.reset()}}})],1),n("screenfull")],1)]),n("JNPF-table",{directives:[{name:"loading",rawName:"v-loading",value:t.listLoading,expression:"listLoading"}],attrs:{data:t.list,hasC:""},on:{"selection-change":t.handleSelectionChange}},[n("el-table-column",{attrs:{prop:"title",label:"消息标题"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("el-link",{staticStyle:{"font-size":"12px"},on:{click:function(n){return t.readInfo(e.row)}}},[t._v(t._s(e.row.title)+"\n                ")])]}}])}),n("el-table-column",{attrs:{prop:"type",label:"消息类型",width:"120"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n                "+t._s(1==e.row.type?"系统消息":"私信信息")+"\n              ")]}}])}),n("el-table-column",{attrs:{prop:"creatorUser",label:"发送人员",width:"120"}}),n("el-table-column",{attrs:{prop:"lastModifyTime",label:"发送时间",formatter:t.jnpf.tableDateFormat,width:"120"}}),n("el-table-column",{attrs:{prop:"isRead",label:"状态",width:"100"},scopedSlots:t._u([{key:"default",fn:function(e){return["1"==e.row.isRead?n("el-tag",{attrs:{type:"success"}},[t._v("已读")]):n("el-tag",{attrs:{type:"info"}},[t._v("未读")])]}}])})],1),n("pagination",{attrs:{total:t.total,page:t.listQuery.currentPage,limit:t.listQuery.pageSize},on:{"update:page":function(e){return t.$set(t.listQuery,"currentPage",e)},"update:limit":function(e){return t.$set(t.listQuery,"pageSize",e)},pagination:t.initData}})],1)],1)],1)],1),t.formVisible?n("Form",{ref:"Form",on:{refreshDataList:t.initData}}):t._e()],1)},i=[],o=n("5530"),s=(n("386d"),n("0503")),r=n("079b"),l={name:"messageRecord",components:{Form:r["default"]},data:function(){return{visible:!1,formVisible:!1,keyword:"",activeName:"0",list:[],multipleSelection:[],total:0,listLoading:!0,listQuery:{currentPage:1,pageSize:20,sort:"desc"}}},watch:{activeName:function(t){this.keyword="",this.search()}},created:function(){this.initData()},methods:{search:function(){this.listQuery={currentPage:1,pageSize:20,sort:"desc"},this.initData()},reset:function(){this.keyword="",this.search()},initData:function(){var t=this;this.listLoading=!0;var e="0"==this.activeName?"":this.activeName,n=Object(o["a"])(Object(o["a"])({},this.listQuery),{},{keyword:this.keyword,type:e});this.list=[],Object(s["g"])(n).then((function(e){t.list=e.data.list,t.total=e.data.pagination.total,t.listLoading=!1}))},handleDel:function(){var t=this;if(this.multipleSelection.length){var e={ids:this.multipleSelection.join(",")};this.$confirm("您确定要删除这些数据吗, 是否继续?","提示",{type:"warning"}).then((function(){Object(s["b"])(e).then((function(e){t.$message({type:"success",message:e.msg}),t.initData()}))})).catch((function(){}))}else this.$message({type:"error",message:"请选择一条数据"})},handleSelectionChange:function(t){this.multipleSelection=t.map((function(t){return t.id}))},readInfo:function(t){var e=this;1==t.type?(this.formVisible=!0,t.isRead="1",this.$nextTick((function(){e.$refs.Form.init(t.id)}))):Object(s["c"])(t.id).then((function(n){t.isRead="1";var a=n.data.bodyText?JSON.parse(n.data.bodyText):{},i="flowLaunch";2==a.type&&(i="flowTodo"),3==a.type&&(i="flowCirculate"),e.$router.push("/workFlow/".concat(i))}))}}},c=l,u=(n("c8fa"),n("2877")),d=Object(u["a"])(c,a,i,!1,null,"0cdc64a4",null);e["default"]=d.exports}}]);