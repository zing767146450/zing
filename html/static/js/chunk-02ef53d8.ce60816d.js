(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-02ef53d8"],{1099:function(t,a,n){"use strict";n.r(a);var i=function(){var t=this,a=t.$createElement,i=t._self._c||a;return i("div",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticClass:"dashboard-container",attrs:{"element-loading-text":t.$t("common.loadingText")}},[t.ajaxing?t._e():[t.portalId?i("PortalLayout",{attrs:{layout:t.layout}}):i("div",{staticClass:"portal-layout-nodata"},[i("img",{staticClass:"layout-nodata-img",attrs:{src:n("c13c"),alt:""}}),i("p",{staticClass:"layout-nodata-txt"},[t._v("暂无数据")])])],i("Setting",{ref:"Setting",on:{refresh:t.refresh}}),i("el-button",{staticClass:"setting-btn",attrs:{type:"primary",icon:"el-icon-arrow-left",size:"large"},on:{click:function(a){return t.$refs.Setting.init(t.portalId)}}})],2)},e=[],o=n("5530"),r=n("1641"),c=n("f66b"),s=n("c797"),u=n("2f62"),l={name:"dashboard",components:{Setting:c["default"],PortalLayout:s["a"]},data:function(){return{portalId:"",layout:[],ajaxing:!0,loading:!1}},computed:Object(o["a"])({},Object(u["b"])(["userInfo"])),created:function(){this.portalId=this.userInfo.portalId,this.getData()},methods:{getData:function(){var t=this;if(this.loading=!0,this.layout=[],!this.portalId)return this.loading=!1,void(this.ajaxing=!1);Object(r["g"])(this.portalId).then((function(a){if(a.data&&a.data.formData){var n=JSON.parse(a.data.formData);t.layout=n.layout||[]}t.ajaxing=!1,setTimeout((function(){t.loading=!1}),500)})).catch((function(){t.loading=!1,t.ajaxing=!1}))},refresh:function(t){t&&(this.portalId=t,this.getData())}}},d=l,f=(n("f3ce"),n("2877")),v=Object(f["a"])(d,i,e,!1,null,"25797ef6",null);a["default"]=v.exports},1641:function(t,a,n){"use strict";n.d(a,"i",(function(){return e})),n.d(a,"h",(function(){return o})),n.d(a,"c",(function(){return r})),n.d(a,"e",(function(){return c})),n.d(a,"b",(function(){return s})),n.d(a,"a",(function(){return u})),n.d(a,"f",(function(){return l})),n.d(a,"j",(function(){return d})),n.d(a,"d",(function(){return f})),n.d(a,"g",(function(){return v}));var i=n("b775");function e(t){return Object(i["a"])({url:"/api/visualdev/Portal",method:"get",data:t})}function o(t){return Object(i["a"])({url:"/api/visualdev/Portal/".concat(t),method:"get"})}function r(t){return Object(i["a"])({url:"/api/visualdev/Portal/".concat(t),method:"DELETE"})}function c(t){return Object(i["a"])({url:"/api/visualdev/Portal/".concat(t.id),method:"PUT",data:t})}function s(t){return Object(i["a"])({url:"/api/visualdev/Portal",method:"post",data:t})}function u(t){return Object(i["a"])({url:"/api/visualdev/Portal/".concat(t,"/Actions/Copy"),method:"POST"})}function l(t){return Object(i["a"])({url:"/api/visualdev/Portal/".concat(t,"/Actions/ExportData"),method:"POST"})}function d(t){return Object(i["a"])({url:"/api/visualdev/Portal/Selector",method:"GET",data:{type:t}})}function f(t){return Object(i["a"])({url:"/api/visualdev/Portal/".concat(t,"/Actions/SetDefault"),method:"PUT"})}function v(t){return Object(i["a"])({url:"/api/visualdev/Portal/".concat(t,"/auth"),method:"GET"})}},2476:function(t,a,n){t.exports=n.p+"static/img/portal-nodata.3cf41816.png"},3191:function(t,a,n){"use strict";n.d(a,"c",(function(){return e})),n.d(a,"d",(function(){return o})),n.d(a,"a",(function(){return r})),n.d(a,"b",(function(){return c}));var i=n("b775");function e(){return Object(i["a"])({url:"/api/visualdev/Dashboard/FlowTodoCount",method:"get"})}function o(){return Object(i["a"])({url:"/api/visualdev/Dashboard/Notice",method:"get"})}function r(){return Object(i["a"])({url:"/api/visualdev/Dashboard/Email",method:"get"})}function c(){return Object(i["a"])({url:"/api/visualdev/Dashboard/FlowTodo",method:"get"})}},"3b01":function(t,a,n){},5050:function(t,a,n){"use strict";n("fd64")},c13c:function(t,a,n){t.exports=n.p+"static/img/dashboard-nodata.fc62cb59.png"},f3ce:function(t,a,n){"use strict";n("3b01")},f66b:function(t,a,n){"use strict";n.r(a);var i=function(){var t=this,a=t.$createElement,n=t._self._c||a;return n("el-drawer",{staticClass:"JNPF-common-drawer board",attrs:{title:"切换门户",visible:t.drawer,direction:"rtl",size:"260px"},on:{"update:visible":function(a){t.drawer=a}}},[n("div",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticClass:"main",attrs:{"element-loading-text":t.loadingText}},[t.list.length?n("div",t._l(t.list,(function(a,i){return n("div",{key:i,staticClass:"item"},[n("p",{staticClass:"item-title"},[t._v(t._s(a.fullName))]),n("div",{staticClass:"item-list"},t._l(a.children,(function(a,i){return n("div",{key:i,staticClass:"item-list-item",class:{active:t.activeId===a.id},on:{click:function(n){return t.selectItem(a.id)}}},[n("p",[t._v(t._s(a.fullName))]),n("i",{staticClass:"el-icon-success"})])})),0)])})),0):n("p",{staticClass:"noData-txt"},[t._v(t._s(t.$t("common.noData")))])])])},e=[],o=n("1641"),r={name:"Setting",data:function(){return{drawer:!1,list:[],loading:!0,loadingText:"数据加载中",activeId:""}},methods:{init:function(t){this.drawer=!0,this.activeId=t,this.getList()},getList:function(){var t=this;this.loading=!0,this.loadingText="数据加载中",Object(o["j"])(1).then((function(a){t.list=a.data.list,t.loading=!1})).catch((function(){t.loading=!1}))},selectItem:function(t){var a=this;this.loading=!0,this.loadingText="切换门户中",this.activeId!=t&&Object(o["d"])(t).then((function(n){a.activeId=t,a.$emit("refresh",t),a.loading=!1,a.$store.commit("user/SET_USERINFO_PORTALID",t),a.$message({message:n.msg,type:"success",duration:1e3})})).catch((function(){a.loading=!1}))}}},c=r,s=(n("5050"),n("2877")),u=Object(s["a"])(c,i,e,!1,null,"3b12ac86",null);a["default"]=u.exports},fd64:function(t,a,n){}}]);